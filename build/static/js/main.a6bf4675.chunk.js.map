{"version":3,"sources":["app/creator/duck/actions.js","app/creator/duck/reducers.js","app/creator/duck/index.js","app/questioncatalog/duck/actions.js","app/questioncatalog/duck/reducers.js","app/questioncatalog/duck/index.js","reducers.js","store.js","app/creator/AmazonConnectConfiguratorComponent.jsx","app/creator/duck/amazon-connect/emptycontactflow.js","app/creator/duck/amazon-connect/contactflowerror.js","app/creator/duck/amazon-connect/contactflowend.js","app/creator/duck/amazon-connect/contactflowtransfer.js","app/creator/duck/amazon-connect/contactflowlogging.js","app/creator/duck/amazon-connect/contactflowvoice.js","app/creator/duck/amazon-connect/contactflowplayprompt.js","app/creator/duck/amazon-connect/contactflowrepeat.js","app/creator/duck/amazon-connect/contactflowattribute.js","app/creator/duck/amazon-connect/contactflowinvokeexternal.js","app/creator/duck/amazon-connect/contactflowuserinput.js","app/creator/duck/questions/defaultText.js","app/creator/duck/amazon-connect/contactflowstaticstart.js","app/creator/duck/amazon-connect/contactflowstaticend.js","app/creator/duck/amazon-connect/contactflowquestion.js","app/creator/duck/amazon-connect/contactflowstore.js","app/creator/duck/amazon-connect/contactflowquestiondate.js","app/creator/duck/amazon-connect/contactflow.js","app/creator/duck/foo.js","app/creator/duck/bar.js","app/creator/duck/operations.js","app/creator/AmazonConnectConfiguratorContainer.js","app/creator/CreatorComponent.jsx","app/creator/CreatorContainer.js","app/questioncatalog/RadioOptionComponent.jsx","app/questioncatalog/duck/operations.js","app/questioncatalog/RadioOptionContainer.js","app/questioncatalog/NextQuestionMapComponent.jsx","app/questioncatalog/NextQuestionMapContainer.js","app/questioncatalog/QuestionComponent.jsx","app/questioncatalog/QuestionContainer.js","app/questioncatalog/QuestionCatalogComponent.jsx","app/questioncatalog/QuestionCatalogContainer.js","app/App.js","index.js"],"names":["setQuestionnaireStrings","stringMap","type","payload","setQuestionnaireOrder","order","setAmazonConnectData","data","addKey","key","setQuestionCount","questionCount","initialState","undefined","language","chariteData","connectConf","uuidList","lambdaKeys","basename","creatorReducer","state","action","Object","assign","push","uuid","indexOf","quesitonCount","updateQuestion","question","questions","map","s","newQuestion","text","options","editQuestion","id","category","inputType","nextQuestionMap","newRadioOption","findTargetQuestionIndex","findIndex","q","findTargetQuestion","find","questionCatalogReducer","index","targetQuestion","filter","arr","newIndex","direction","splice","JSON","parse","stringify","value","console","log","option","i","n","o","combineReducers","creator","questioncatalog","questioncatalogReducer","loggerMiddleware","createLogger","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","AmazonConnectConfiguratorComponent","props","createContactFlow","downloadJSON","ButtonGroup","size","Button","onClick","disabled","defaultProps","version","positionX","positionY","description","snapToGrid","propTypes","startUUID","PropTypes","string","isRequired","name","number","bool","EmptyContactFlow","modules","start","metadata","entryPointPosition","x","y","status","errorText","useDynamic","ContactFlowError","ownUUID","transitionUUID","branches","condition","transition","parameters","namespace","position","ContactFlowEnd","endPoint","errorUUID","resourceName","ContactFlowTransfer","ContactFlow","target","ContactFlowLogging","voiceType","ContactFlowVoice","textToSpechType","ContactFlowPlayPrompt","ContactFlowRepeat","any","ContactFlowAttribute","arrayOf","ContactFlowInvokeExternal","dynamicParameters","dynamicMetadata","forEach","dynamicParamter","maxDigits","object","repeatUUID","transitionUUIDs","optionsUUIDMap","dispatch","func","ContactFlowUserInput","conditionMetadata","staticBranches","dynamicBranches","val","conditionMetadataObj","toString","contactFlowAttribute","conditionType","conditionValue","hasOwnProperty","part1","part2","concat","generateTextFromOptions","defaultText","greetingText","de","en","repeatText","defaultVoice","ContactFlowStaticStart","firstQuestionName","loggingUUUID","startErrorUUID","startEndUUID","startTransferUUID","voiceUUID","greetingUUID","staticStart","startModules","startError","startEnd","startTransfer","startLogging","startVoice","startGreeting","getState","ContactFlowStaticEnd","finishUUID","endErrorUUID","lambdaUUID","recomSpeechUUID","staticEnd","endModules","endError","finishLine","lambdaCall","recomVoice","ContactFlowStore","blyatUUID","useDynamicForEncryptionKeys","useDynamicForTerminatorDigits","countryCodePrefix","ContactFlowQuestion","uuidMap","xxxMap","offsetX","offsetY","transferUUIDs","endUUID","someUUIDs","Array","from","Set","u","singleTransferUUID","contactFlowQuestion","contactFlowEnd","contactFlowRepeat","contactFlowError","uniqueTransferUUIDs","t","fooName","current","nextIndex","slice","length","nextQuestion","contactFlowTransfer","contactFlowUserInput","ContactFlowQuestionDate","contactFlowStore","CATEGORIES","QUESTION","QUESTIONNAIRE_ORDER","comment","scoreMap","QUESTIONNAIRE","createJSON","strings","keys","setCreatedJSON","createDateQuestion","createRadioQuestion","mapDispatchToProps","questionIDList","questionIDSet","qCount","contactFlow","contactFlowName","cf","staticStartName","staticEndName","jsonMap","zip","JSZip","file","generateAsync","then","content","fileDownload","connect","ownProps","CreatorComponent","getQuestionsAndGenerateJSONMock","availableLanguages","handleLanguageChange","bla","Container","ButtonToolbar","className","lang","variant","display","Accordion","Card","Toggle","as","Header","eventKey","Collapse","Body","Form","Group","controlId","Label","Control","rows","url","setLanguage","AddRadioOptionComponent","handleUpdateRadioOption","handleUpdateNewRadioOption","handleAddNewRadioOption","handleRemoveRadioOption","Col","xs","opt","Row","FormControl","onChange","event","placeholder","handleRemoveQuestion","handleMoveQuestion","moveQuestion","updateRadioOption","updateNewRadioOption","addNewRadioOption","addNextQuestionMapOption","removeRadioOption","existingQuestion","RadioOptionComponent","NextQuestionMapComponent","handleUpdateNextQuestionMapOption","defaultValue","j","updateNextQuestionMapOption","QuestionComponent","handleToggleNextQuestionMap","total","categoryMap","handleRenameQuestion","handleChangeQuestionCategory","Badge","cat","Check","label","defaultChecked","contact","personalInfo","symptoms","respiratorySymptoms","illnesses","medication","checked","addNextQuestionMap","removeNextQuestionMap","renameQuestion","changeQuestionCategory","QuestionCatalogComponent","array","App","to","exact","path","component","Creator","QuestionCatalog","preloadedState","store","createStore","rootReducer","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a6bf4675.chunk.js","sourcesContent":["export const SET_QUESTIONNAIRE_STRING_MAP = \"SET_QUESTIONNAIRE_STRING_MAP\"\r\nexport const SET_QUESTIONNAIRE_ORDER = \"SET_QUESTIONNAIRE_ORDER\"\r\nexport const SET_LANGUAGE = \"SET_LANGUAGE\"\r\nexport const SET_CREATED_JSON = \"SET_CREATED_JSON\"\r\nexport const SET_CREATED_AMAZON_CONNECT_CONFIG = \"SET_CREATED_AMAZON_CONNECT_CONFIG\"\r\nexport const SET_CREATED_AMAZON_CONNECT_DATA = \"SET_CREATED_AMAZON_CONNECT_DATA\"\r\nexport const ADD_CONTACT_FLOW = \"ADD_CONTACT_FLOW\"\r\nexport const ADD_UUID = \"ADD_UUID\"\r\nexport const ADD_KEY = \"ADD_KEY\"\r\nexport const SET_QUESTION_COUNT = \"SET_QUESTION_COUNT\"\r\n\r\nexport const setQuestionnaireStrings = stringMap => ({\r\n  type: SET_QUESTIONNAIRE_STRING_MAP,\r\n  payload: { stringMap }\r\n})\r\n\r\nexport const setQuestionnaireOrder = order => ({\r\n  type: SET_QUESTIONNAIRE_ORDER,\r\n  payload: { order }\r\n})\r\n\r\nexport const setLanguage = language => ({\r\n  type: SET_LANGUAGE,\r\n  payload: { language }\r\n})\r\n\r\nexport const setCreatedJSON = data => ({\r\n  type: SET_CREATED_JSON,\r\n  payload: { data }\r\n})\r\n\r\nexport const setCreatedAmazonConnectConfig = data => ({\r\n  type: SET_CREATED_AMAZON_CONNECT_CONFIG,\r\n  payload: { data }\r\n})\r\n\r\nexport const setAmazonConnectData = data => ({\r\n  type: SET_CREATED_AMAZON_CONNECT_DATA,\r\n  payload: { data }\r\n})\r\n\r\nexport const addContactFlow = contactFlow => ({\r\n  type: ADD_CONTACT_FLOW,\r\n  payload: { contactFlow }\r\n})\r\n\r\nexport const addUUID = uuid => ({\r\n  type: ADD_UUID,\r\n  payload: { uuid }\r\n})\r\n\r\nexport const addKey = key => ({\r\n  type: ADD_KEY,\r\n  payload: { key }\r\n})\r\n\r\nexport const setQuestionCount = questionCount => ({\r\n  type: SET_QUESTION_COUNT,\r\n  payload: { questionCount }\r\n})","import {\r\n  SET_QUESTIONNAIRE_ORDER,\r\n  SET_QUESTIONNAIRE_STRING_MAP,\r\n  SET_LANGUAGE,\r\n  SET_CREATED_JSON,\r\n  SET_CREATED_AMAZON_CONNECT_CONFIG,\r\n  SET_CREATED_AMAZON_CONNECT_DATA,\r\n  ADD_UUID,\r\n  ADD_KEY,\r\n  SET_QUESTION_COUNT\r\n} from \"./actions\"\r\n\r\nexport const initialState = {\r\n  order: undefined,\r\n  stringMap: {'de': undefined, 'en': undefined},\r\n  language: 'en',\r\n  chariteData: undefined,\r\n  connectConf: undefined,\r\n  uuidList: [],\r\n  lambdaKeys: {\"lambdaKeys\": []},\r\n  basename: \"generated_charite_data\"\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_QUESTIONNAIRE_ORDER:\r\n      return {\r\n        ...state,\r\n        order: action.payload.order\r\n      }\r\n    case SET_QUESTIONNAIRE_STRING_MAP:\r\n      return {\r\n        ...state,\r\n        stringMap: action.payload.stringMap\r\n      }\r\n    case SET_LANGUAGE:\r\n      return {\r\n        ...state,\r\n        language: action.payload.language\r\n      }\r\n    case SET_CREATED_JSON:\r\n      return {\r\n        ...state,\r\n        chariteData: action.payload.data\r\n      }\r\n    case SET_CREATED_AMAZON_CONNECT_CONFIG:\r\n      return {\r\n        ...state,\r\n        connectConf: action.payload.data\r\n      }\r\n    case SET_CREATED_AMAZON_CONNECT_DATA:\r\n      const connectConf = Object.assign({}, state.connectConf, action.payload.data)\r\n      return {\r\n        ...state,\r\n        connectConf\r\n      }\r\n    case ADD_UUID:\r\n      const uuidList = [...state.uuidList]\r\n      uuidList.push(action.payload.uuid)\r\n      return {\r\n        ...state,\r\n        uuidList\r\n      }\r\n    case ADD_KEY:\r\n      let lambdaKeys = state.lambdaKeys\r\n  \r\n      if (lambdaKeys[\"lambdaKeys\"].indexOf(action.payload.key) === -1) {\r\n        lambdaKeys[\"lambdaKeys\"].push(action.payload.key)\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        lambdaKeys\r\n      }\r\n    case SET_QUESTION_COUNT:\r\n      return {\r\n        ...state,\r\n        quesitonCount: action.payload.questionCount\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","import creatorReducer from './reducers';\r\n\r\nexport default creatorReducer;","export const UPDATE_QUESTION = \"UPDATE_QUESTION\"\r\nexport const REMOVE_QUESTION = \"REMOVE_QUESTION\"\r\nexport const MOVE_QUESTION = \"MOVE_QUESTION\"\r\nexport const RENAME_QUESTION = \"RENAME_QUESTION\"\r\nexport const CHANGE_QUESTION_CATEGORY = \"CHANGE_QUESTION_CATEGORY\"\r\nexport const UPDATE_RADIO_OPTION = \"UPDATE_RADIO_OPTION\"\r\nexport const REMOVE_RADIO_OPTION = \"REMOVE_RADIO_OPTION\"\r\nexport const ADD_NEW_RADIO_OPTION = \"ADD_NEW_RADIO_OPTION\"\r\nexport const UPDATE_NEW_RADIO_OPTION = \"UPDATE_NEW_RADIO_OPTION\"\r\nexport const REMOVE_NEXTQUESTIONMAP = \"REMOVE_NEXTQUESTIONMAP\"\r\nexport const ADD_NEXTQUESTIONMAP = \"ADD_NEXTQUESTIONMAP\"\r\nexport const UPDATE_NEXTQUESTIONMAP_OPTION = \"UPDATE_NEXTQUESTIONMAP_OPTION\"\r\nexport const ADD_NEXTQUESTIONMAP_OPTION = \"ADD_NEXTQUESTIONMAP_OPTION\"\r\n\r\n\r\nexport const updateQuestion = question => ({\r\n  type: UPDATE_QUESTION,\r\n  payload: { question }\r\n})\r\n\r\nexport const removeQuestion = uuid => ({\r\n  type: REMOVE_QUESTION,\r\n  payload: { uuid }\r\n})\r\n\r\nexport const renameQuestion = (value, uuid) => ({\r\n  type: RENAME_QUESTION,\r\n  payload: { value, uuid }\r\n})\r\n\r\nexport const changeQuestionCategory = (value, uuid) => ({\r\n  type: CHANGE_QUESTION_CATEGORY,\r\n  payload: { value, uuid }\r\n})\r\n\r\nexport const moveQuestion = (uuid, direction) => ({\r\n  type: MOVE_QUESTION,\r\n  payload: { uuid, direction }\r\n})\r\n\r\nexport const updateRadioOption = (value, uuid, index) => ({\r\n  type: UPDATE_RADIO_OPTION,\r\n  payload: { value, uuid, index }\r\n})\r\n\r\nexport const removeRadioOption = (uuid, index) => ({\r\n  type: REMOVE_RADIO_OPTION,\r\n  payload: { uuid, index }\r\n})\r\n\r\nexport const addNewRadioOption = (option, uuid) => ({\r\n  type: ADD_NEW_RADIO_OPTION,\r\n  payload: { option, uuid }\r\n})\r\n\r\nexport const updateNewRadioOption = option => ({\r\n  type: UPDATE_NEW_RADIO_OPTION,\r\n  payload: { option }\r\n})\r\n\r\nexport const removeNextQuestionMap = uuid => ({\r\n  type: REMOVE_NEXTQUESTIONMAP,\r\n  payload: { uuid }\r\n})\r\n\r\nexport const addNextQuestionMap = uuid => ({\r\n  type: ADD_NEXTQUESTIONMAP,\r\n  payload: { uuid }\r\n})\r\n\r\nexport const updateNextQuestionMapOption = (value, uuid, index) => ({\r\n  type: UPDATE_NEXTQUESTIONMAP_OPTION,\r\n  payload: { value, uuid, index }\r\n})\r\n\r\nexport const addNextQuestionMapOption = (uuid) => ({\r\n  type: ADD_NEXTQUESTIONMAP_OPTION,\r\n  payload: { uuid }\r\n})","import { uuid } from \"uuidv4\"\r\nimport {\r\n  REMOVE_QUESTION,\r\n  UPDATE_QUESTION,\r\n  MOVE_QUESTION,\r\n  RENAME_QUESTION,\r\n  CHANGE_QUESTION_CATEGORY,\r\n  UPDATE_RADIO_OPTION,\r\n  REMOVE_RADIO_OPTION,\r\n  ADD_NEW_RADIO_OPTION,\r\n  UPDATE_NEW_RADIO_OPTION,\r\n  REMOVE_NEXTQUESTIONMAP,\r\n  ADD_NEXTQUESTIONMAP,\r\n  UPDATE_NEXTQUESTIONMAP_OPTION,\r\n  ADD_NEXTQUESTIONMAP_OPTION\r\n} from \"./actions\"\r\n\r\n\r\n//import Sample from \"./sample\"\r\nimport SampleSmall from \"./sample_small\"\r\n\r\n\r\nexport const initialState = {\r\n  questions: SampleSmall.map(s => Object.assign({}, s, { uuid: uuid() })),\r\n  newQuestion: {\r\n    text: \"\",\r\n    type: null,\r\n    options: []\r\n  },\r\n  editQuestion: {\r\n    id: undefined,\r\n    category: undefined,\r\n    text: undefined,\r\n    inputType: undefined,\r\n    uuid: undefined,\r\n    options: undefined,\r\n    nextQuestionMap: undefined,\r\n  },\r\n  newRadioOption: \"\",\r\n  //newNextQuestionMap: undefined\r\n}\r\n\r\nexport const findTargetQuestionIndex = (questions, uuid) => questions.findIndex(q => q.uuid === uuid)\r\nexport const findTargetQuestion = (questions, uuid) => questions.find(q => q.uuid === uuid)\r\n\r\n/* TODO: make everything use editQuestion, so one can call UPDATE_QUESTION after things are set */\r\n\r\nexport default (state = initialState, action) => {\r\n  let questions, editQuestion, index, targetQuestionIndex, targetQuestion\r\n  switch (action.type) {\r\n    case REMOVE_QUESTION:\r\n      questions = [...state.questions].filter(q => q.uuid !== action.payload.uuid)\r\n\r\n      return {\r\n        ...state,\r\n        questions\r\n      }\r\n\r\n    case UPDATE_QUESTION:\r\n      questions = [...state.questions]\r\n      targetQuestionIndex  = findTargetQuestionIndex(questions, action.payload.question.uuid)\r\n      questions[targetQuestionIndex] = state.editQuestion\r\n\r\n      return {\r\n        ...state,\r\n        questions\r\n      }\r\n\r\n    case MOVE_QUESTION:\r\n      // working now and total overkill. refactor this\r\n      let arr = [...state.questions]\r\n      index = arr.findIndex(question => question.uuid === action.payload.uuid)\r\n      let newIndex = index + action.payload.direction\r\n      arr.splice(newIndex, 0, arr.splice(index, 1)[0])\r\n      questions = arr.map(question => Object.assign({}, JSON.parse(JSON.stringify(question))))\r\n\r\n      return {\r\n        ...state,\r\n        questions\r\n      }\r\n\r\n    case RENAME_QUESTION:\r\n\r\n      questions = [...state.questions]\r\n      targetQuestionIndex = findTargetQuestionIndex(questions, action.payload.uuid)\r\n      targetQuestion = questions[targetQuestionIndex]\r\n      editQuestion = Object.assign({}, state.editQuestion, targetQuestion)\r\n      editQuestion.id = action.payload.value\r\n      return {\r\n        ...state,\r\n        editQuestion\r\n      }\r\n\r\n    case CHANGE_QUESTION_CATEGORY:\r\n      console.log(\"LOOK ME BEACH\", action.payload)\r\n      questions = [...state.questions]\r\n      targetQuestionIndex = findTargetQuestionIndex(questions, action.payload.uuid)\r\n      targetQuestion = questions[targetQuestionIndex]\r\n      editQuestion = Object.assign({}, state.editQuestion, targetQuestion)\r\n      editQuestion.category = action.payload.value\r\n      return {\r\n        ...state,\r\n        editQuestion\r\n      }\r\n\r\n    case UPDATE_RADIO_OPTION:\r\n      questions = [...state.questions]\r\n      targetQuestionIndex = findTargetQuestionIndex(questions, action.payload.uuid)\r\n      targetQuestion = questions[targetQuestionIndex]\r\n      editQuestion = Object.assign({}, state.editQuestion, targetQuestion)\r\n      editQuestion.options[action.payload.index] = action.payload.value\r\n\r\n      return {\r\n        ...state,\r\n        editQuestion\r\n      }\r\n\r\n    case ADD_NEW_RADIO_OPTION:\r\n      questions = [...state.questions]\r\n      targetQuestionIndex  = findTargetQuestionIndex(questions, action.payload.uuid)\r\n      targetQuestion = findTargetQuestion(questions, action.payload.uuid)\r\n      editQuestion = Object.assign({}, state.editQuestion, targetQuestion)\r\n      editQuestion.options.push(action.payload.option)\r\n      \r\n      // TODO: add action to reset newRadioOption?\r\n      return {\r\n        ...state,\r\n        editQuestion,\r\n        newRadioOption: \"\"\r\n      }\r\n\r\n    case REMOVE_RADIO_OPTION:\r\n      questions = [...state.questions]\r\n      targetQuestionIndex  = findTargetQuestionIndex(questions, action.payload.uuid)\r\n      targetQuestion = findTargetQuestion(questions, action.payload.uuid)\r\n      editQuestion = Object.assign({}, state.editQuestion, targetQuestion)\r\n      editQuestion.options = editQuestion.options.filter((q, i) => i !== action.payload.index)\r\n\r\n      editQuestion.nextQuestionMap = editQuestion.nextQuestionMap !== undefined\r\n        ? targetQuestion.nextQuestionMap.filter((n,i) => i !== action.payload.index)\r\n        : undefined\r\n\r\n      return {\r\n        ...state,\r\n        editQuestion\r\n      }\r\n\r\n    case UPDATE_NEW_RADIO_OPTION:\r\n      console.log(\"LLOKKK\", action.payload)\r\n      return {\r\n        ...state,\r\n        newRadioOption: action.payload.option\r\n      }\r\n\r\n    case REMOVE_NEXTQUESTIONMAP:\r\n      questions = [...state.questions]\r\n      targetQuestionIndex = findTargetQuestionIndex(questions, action.payload.uuid)\r\n      targetQuestion = questions[targetQuestionIndex]\r\n      editQuestion = Object.assign({}, state.editQuestion, targetQuestion)\r\n      editQuestion.nextQuestionMap = undefined\r\n\r\n      return {\r\n        ...state,\r\n        editQuestion\r\n      }\r\n\r\n    case ADD_NEXTQUESTIONMAP:\r\n      questions = [...state.questions]\r\n      targetQuestionIndex = findTargetQuestionIndex(questions, action.payload.uuid)\r\n      targetQuestion = questions[targetQuestionIndex]\r\n      editQuestion = Object.assign({}, state.editQuestion, targetQuestion)\r\n      editQuestion.nextQuestionMap = editQuestion.options.map(o => \"\")\r\n      \r\n      return {\r\n        ...state,\r\n        editQuestion\r\n      }\r\n\r\n    case UPDATE_NEXTQUESTIONMAP_OPTION:\r\n      questions = [...state.questions]\r\n      targetQuestionIndex = findTargetQuestionIndex(questions, action.payload.uuid)\r\n      targetQuestion = questions[targetQuestionIndex]\r\n      editQuestion = Object.assign({}, state.editQuestion, targetQuestion)\r\n      editQuestion.nextQuestionMap[action.payload.index] = action.payload.value\r\n\r\n      return {\r\n        ...state,\r\n        editQuestion\r\n      }\r\n\r\n    case ADD_NEXTQUESTIONMAP_OPTION:\r\n      questions = [...state.questions]\r\n      targetQuestionIndex  = findTargetQuestionIndex(questions, action.payload.uuid)\r\n      targetQuestion = findTargetQuestion(questions, action.payload.uuid)\r\n      editQuestion = Object.assign({}, state.editQuestion, targetQuestion)\r\n      /* editQuestion.nextQuestionMap =  editQuestion.nextQuestionMap === undefined\r\n        ? []\r\n        : editQuestion.nextQuestionMap */\r\n      editQuestion.nextQuestionMap.push(\"\")\r\n\r\n      return {\r\n        ...state,\r\n        editQuestion\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","import questionCatalogReducer from './reducers';\r\n\r\nexport default questionCatalogReducer;","import { combineReducers } from \"redux\"\r\nimport creatorReducer from \"./app/creator/duck\"\r\nimport questioncatalogReducer  from \"./app/questioncatalog/duck\"\r\n\r\nexport default combineReducers({\r\n    creator: creatorReducer,\r\n    questioncatalog: questioncatalogReducer\r\n});","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { createLogger } from 'redux-logger';\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst loggerMiddleware = createLogger();\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default function configureStore(preloadedState) {\r\n    return createStore(\r\n      rootReducer,\r\n      preloadedState,\r\n      composeEnhancers(applyMiddleware(thunkMiddleware, loggerMiddleware)),\r\n    )\r\n}","import React from \"react\"\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\"\r\nimport Button from \"react-bootstrap/Button\"\r\n\r\nexport const defaultProps = {}\r\n\r\nexport const AmazonConnectConfiguratorComponent = props => {\r\n\r\n  const {\r\n    createContactFlow,\r\n    connectConf,\r\n    downloadJSON,\r\n    lambdaKeys,\r\n    language\r\n  } = props\r\n\r\n  return (\r\n\r\n   <ButtonGroup size=\"sm\">\r\n          <Button onClick={createContactFlow}>create Connect Config</Button>\r\n          <Button disabled={!connectConf} onClick={() => downloadJSON(connectConf, language)}>download Configs</Button>\r\n          <Button disabled={!connectConf} onClick={() => downloadJSON(lambdaKeys, language)}>download keys</Button>\r\n    </ButtonGroup>\r\n  )\r\n}\r\n\r\nAmazonConnectConfiguratorComponent.defaultProps = defaultProps\r\n\r\nexport default AmazonConnectConfiguratorComponent","import PropTypes from \"prop-types\"\r\n\r\nexport const defaultProps = {\r\n  version: \"1\",\r\n  positionX: 20,\r\n  positionY: 50,\r\n  description: \"generated ContactFlow\",\r\n  snapToGrid: true,\r\n}\r\n\r\nexport const propTypes = {\r\n  startUUID: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  version: PropTypes.string,\r\n  positionX: PropTypes.number,\r\n  positionY: PropTypes.number,\r\n  description: PropTypes.string,\r\n  snapToGrid: PropTypes.bool\r\n}\r\n\r\n\r\nexport const EmptyContactFlow = ({\r\n  startUUID, name,\r\n  version = defaultProps.version,\r\n  positionX = defaultProps.positionX,\r\n  positionY = defaultProps.positionY,\r\n  description = defaultProps.description,\r\n  snapToGrid = defaultProps.snapToGrid\r\n  }) => {\r\n\r\n  return {\r\n    modules: [],\r\n    version: version,\r\n    type: \"contactFlow\",\r\n    start: startUUID,\r\n    metadata: {\r\n      entryPointPosition: {\r\n        x: positionX,\r\n        y: positionY\r\n      },\r\n      snapToGrid: snapToGrid,\r\n      name: name,\r\n      description: description,\r\n      type: \"contactFlow\",\r\n      status: \"saved\"\r\n    }\r\n  }\r\n}\r\n\r\nEmptyContactFlow.propTypes = propTypes\r\nEmptyContactFlow.defaultProps = defaultProps\r\n\r\nexport default EmptyContactFlow\r\n\r\n","import PropTypes from \"prop-types\"\r\n\r\nexport const defaultProps = {\r\n  positionX: 220,\r\n  positionY: 420,\r\n  errorText: \"<speak>Irgendetwas ist schief gelaufen. Es tut uns Leid. Bitte versuchen Sie es spter noch einmal.</speak>\",\r\n  useDynamic: false\r\n}\r\n\r\nexport const propTypes = {\r\n  startUUID: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  positionX: PropTypes.number,\r\n  positionY: PropTypes.number,\r\n  useDynamic: PropTypes.bool\r\n}\r\n\r\nexport const ContactFlowError = ({\r\n    ownUUID, transitionUUID,\r\n    errorText = defaultProps.errorText,\r\n    positionX = defaultProps.positionX,\r\n    positionY = defaultProps.positionY,\r\n    useDynamic = defaultProps.useDynamic\r\n  }) => {\r\n\r\n  return {\r\n    id: ownUUID,\r\n    type: \"PlayPrompt\",\r\n    branches: [\r\n      {\r\n        condition: \"Success\",\r\n        transition: transitionUUID\r\n      }\r\n    ],\r\n    parameters: [\r\n      {\r\n        name: \"Text\",\r\n        value: errorText,\r\n        namespace: null\r\n      },\r\n      {\r\n        name: \"TextToSpeechType\",\r\n        value: \"ssml\"\r\n      }\r\n    ],\r\n    metadata: {\r\n      position: {\r\n        x: positionX,\r\n        y: positionY\r\n      },\r\n      useDynamic: useDynamic\r\n    }\r\n  }\r\n}\r\n\r\nContactFlowError.propTypes = propTypes\r\nContactFlowError.defaultProps = defaultProps\r\n\r\nexport default ContactFlowError","import PropTypes from \"prop-types\"\r\n\r\nexport const defaultProps = {\r\n  positionX: 20,\r\n  positionY: 220\r\n}\r\n\r\nexport const propTypes = {\r\n  ownUUID: PropTypes.string.isRequired,\r\n  positionX: PropTypes.number,\r\n  positionY: PropTypes.number\r\n}\r\n\r\nexport const ContactFlowEnd = ({\r\n    ownUUID,\r\n    positionX = defaultProps.positionX,\r\n    positionY = defaultProps.positionY\r\n  }) => {\r\n\r\n  return {\r\n    id: ownUUID,\r\n    type: \"Disconnect\",\r\n    branches: [],\r\n    parameters: [],\r\n    metadata: {\r\n      position: {\r\n        x: positionX,\r\n        y: positionY\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nContactFlowEnd.propTypes = propTypes\r\nContactFlowEnd.defaultProps = defaultProps\r\n\r\nexport default ContactFlowEnd","import PropTypes from \"prop-types\"\r\n\r\n\r\n// TODO: find better name for endPoint, maybe even split it in parts\r\nexport const defaultProps = {\r\n  positionX: 20,\r\n  positionY: 600,\r\n  endPoint: \"\"\r\n}\r\n\r\nexport const propTypes = {\r\n  ownUUID: PropTypes.string.isRequired,\r\n  errorUUID: PropTypes.string.isRequired,\r\n  resourceName: PropTypes.string.isRequired,\r\n  positionX: PropTypes.number,\r\n  positionY: PropTypes.number,\r\n  endPoint: PropTypes.string,\r\n  useDynamic: PropTypes.bool\r\n}\r\n\r\nexport const ContactFlowTransfer = ({\r\n    ownUUID, errorUUID, resourceName,\r\n    positionX = defaultProps.positionX,\r\n    positionY = defaultProps.positionY,\r\n    endPoint = defaultProps.endPoint,\r\n    useDynamic = defaultProps.useDynamic\r\n  }) => {\r\n\r\n  return {\r\n    id: ownUUID,\r\n    type: \"Transfer\",\r\n    branches: [\r\n      {\r\n        condition: \"Error\",\r\n        transition: errorUUID\r\n      }\r\n    ],\r\n    parameters: [\r\n      {\r\n        name: \"ContactFlowId\",\r\n        value: endPoint,\r\n        resourceName: resourceName\r\n      }\r\n    ],\r\n    metadata: {\r\n      position: {\r\n        x: positionX,\r\n        y: positionY\r\n      },\r\n      useDynamic: useDynamic,\r\n      ContactFlow: {\r\n        id: endPoint,\r\n        text: resourceName\r\n      }\r\n    },\r\n    target: \"Flow\"\r\n  }\r\n}\r\n\r\nContactFlowTransfer.propTypes = propTypes\r\nContactFlowTransfer.defaultProps = defaultProps\r\n\r\nexport default ContactFlowTransfer","import PropTypes from \"prop-types\"\r\n\r\n\r\nexport const defaultProps = {\r\n  positionX: 220,\r\n  positionY: 20\r\n}\r\n\r\nexport const propTypes = {\r\n  ownUUID: PropTypes.string.isRequired,\r\n  transitionUUID: PropTypes.string.isRequired,\r\n  errorUUID: PropTypes.string.isRequired,\r\n}\r\n\r\nexport const ContactFlowLogging = ({\r\n    ownUUID, transitionUUID, errorUUID,\r\n    positionX = defaultProps.positionX,\r\n    positionY = defaultProps.positionY\r\n  }) => {\r\n\r\n  return {\r\n    id: ownUUID,\r\n    type: \"SetLoggingBehavior\",\r\n    branches: [\r\n      {\r\n        condition: \"Success\",\r\n        transition: transitionUUID\r\n      },\r\n      {\r\n        condition: \"Error\",\r\n        transition: errorUUID\r\n      }\r\n    ],\r\n    parameters: [\r\n      {\r\n        name: \"LoggingBehavior\",\r\n        value: \"Enable\"\r\n      }\r\n    ],\r\n    metadata: {\r\n      position: {\r\n        x: positionX,\r\n        y: positionY\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nContactFlowLogging.propTypes = propTypes\r\nContactFlowLogging.defaultProps = defaultProps\r\n\r\nexport default ContactFlowLogging","import PropTypes from \"prop-types\"\r\n\r\n\r\nexport const defaultProps = {\r\n  voiceType: \"Vicki\",\r\n  positionX: 420,\r\n  positionY: 20\r\n}\r\n\r\nexport const propTypes = {\r\n  ownUUID: PropTypes.string.isRequired,\r\n  transitionUUID: PropTypes.string.isRequired,\r\n  errorUUID: PropTypes.string.isRequired,\r\n  voiceType: PropTypes.string,\r\n  positionX: PropTypes.number,\r\n  positionY: PropTypes.number\r\n}\r\n\r\nexport const ContactFlowVoice = ({\r\n    ownUUID, transitionUUID, errorUUID,\r\n    voiceType = defaultProps.voiceType,\r\n    positionX = defaultProps.positionX,\r\n    positionY = defaultProps.positionY\r\n  }) => {\r\n\r\n\r\n  return {\r\n    id: ownUUID,\r\n    type: \"SetVoice\",\r\n    branches: [\r\n      {\r\n        condition: \"Success\",\r\n        transition: transitionUUID\r\n      },\r\n      {\r\n        condition: \"Error\",\r\n        transition: errorUUID\r\n      }\r\n    ],\r\n    parameters: [\r\n      {\r\n        name: \"GlobalVoice\",\r\n        value: voiceType\r\n      }\r\n    ],\r\n    metadata: {\r\n      position: {\r\n        x: positionX,\r\n        y: positionY\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nContactFlowVoice.propTypes = propTypes\r\nContactFlowVoice.defaultProps = defaultProps\r\n\r\nexport default ContactFlowVoice","import PropTypes from \"prop-types\"\r\n\r\n\r\nexport const defaultProps = {\r\n  positionX: 620,\r\n  positionY: 20,\r\n  useDynamic: false,\r\n  textToSpechType: \"ssml\"\r\n}\r\n\r\nexport const propTypes = {\r\n  ownUUID: PropTypes.string.isRequired,\r\n  transitionUUID: PropTypes.string.isRequired,\r\n  errorUUID: PropTypes.string.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n  positionX: PropTypes.string,\r\n  positionY: PropTypes.string,\r\n  useDynamic: PropTypes.bool\r\n}\r\n\r\nexport const ContactFlowPlayPrompt = ({\r\n    ownUUID, transitionUUID, errorUUID, text,\r\n    positionX = defaultProps.positionX,\r\n    positionY = defaultProps.positionY,\r\n    useDynamic = defaultProps.useDynamic,\r\n    textToSpechType = defaultProps.textToSpechType\r\n  }) => {\r\n\r\n  return {\r\n    id: ownUUID,\r\n    type: \"PlayPrompt\",\r\n    branches: [\r\n      {\r\n        condition: \"Success\",\r\n        transition: transitionUUID\r\n      },\r\n      {\r\n        condition: \"Error\",\r\n        transition: errorUUID\r\n      }\r\n    ],\r\n    parameters: [\r\n      {\r\n        name: \"Text\",\r\n        value: text,\r\n        namespace: null\r\n      },\r\n      {\r\n        name: \"TextToSpeechType\",\r\n        value: textToSpechType\r\n      }\r\n    ],\r\n    metadata: {\r\n      position: {\r\n        x: positionX,\r\n        y: positionY\r\n      },\r\n      useDynamic: useDynamic\r\n    }\r\n  }\r\n}\r\n\r\nContactFlowPlayPrompt.propTypes = propTypes\r\nContactFlowPlayPrompt.defaultProps = defaultProps\r\n\r\nexport default ContactFlowPlayPrompt","import PropTypes from \"prop-types\"\r\n\r\n\r\nexport const defaultProps = {\r\n  text: \"<speak>Die Frage wird nun wiederholt.</speak>\",\r\n  useDynamic: false\r\n}\r\n\r\nexport const propTypes = {\r\n  ownUUID: PropTypes.string.isRequired,\r\n  transitionUUID: PropTypes.string.isRequired,\r\n  positionX: PropTypes.number.isRequired,\r\n  positionY: PropTypes.number.isRequired,\r\n  text: PropTypes.string,\r\n  useDynamic: PropTypes.bool\r\n}\r\n\r\nexport const ContactFlowRepeat = ({\r\n    ownUUID, transitionUUID, positionX, positionY,\r\n    text = defaultProps.text,\r\n    useDynamic = defaultProps.useDynamic\r\n  }) => {\r\n  return {\r\n    id: ownUUID,\r\n    type: \"PlayPrompt\",\r\n    branches: [\r\n      {\r\n        condition: \"Success\",\r\n        transition: transitionUUID\r\n      }\r\n    ],\r\n    parameters: [\r\n      {\r\n        name: \"Text\",\r\n        value: text,\r\n        namespace: null\r\n      },\r\n      {\r\n        name: \"TextToSpeechType\",\r\n        value: \"ssml\"\r\n      }\r\n    ],\r\n    metadata: {\r\n      position: {\r\n        x: positionX,\r\n        y: positionY\r\n      },\r\n      useDynamic: useDynamic\r\n    }\r\n  }\r\n}\r\n\r\nContactFlowRepeat.propTypes = propTypes\r\nContactFlowRepeat.defaultProps = defaultProps\r\n\r\nexport default ContactFlowRepeat","import PropTypes from \"prop-types\"\r\n\r\n\r\nexport const defaultProps = {\r\n  namespace: null\r\n}\r\n\r\nexport const propTypes = {\r\n  ownUUID: PropTypes.string.isRequired,\r\n  errorUUID: PropTypes.string.isRequired,\r\n  transitionUUID: PropTypes.string.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n  key: PropTypes.string.isRequired,\r\n  positionX: PropTypes.number.isRequired,\r\n  positionY: PropTypes.number.isRequired\r\n}\r\n\r\n\r\nexport const ContactFlowAttribute = ({\r\n    ownUUID, errorUUID, transitionUUID, value, key, positionX, positionY,\r\n    namespace = defaultProps.namespace\r\n  }) => {\r\n\r\n  return {\r\n    id: ownUUID,\r\n    type: \"SetAttributes\",\r\n    branches: [\r\n      {\r\n        condition: \"Success\",\r\n        transition: transitionUUID\r\n      },\r\n      {\r\n        condition: \"Error\",\r\n        transition: errorUUID\r\n      }\r\n    ],\r\n    parameters: [\r\n      {\r\n        name: \"Attribute\",\r\n        value: value,\r\n        key: key,\r\n        namespace: namespace\r\n      }\r\n    ],\r\n    metadata: {\r\n      position: {\r\n        x: positionX,\r\n        y: positionY\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nContactFlowAttribute.propTypes = propTypes\r\nContactFlowAttribute.defaultProps = defaultProps\r\n\r\nexport default ContactFlowAttribute","import PropTypes from \"prop-types\"\r\n\r\n\r\nexport const defaultProps = {\r\n  positionX: 337,\r\n  positionY: 35,\r\n  endPoint: \"arn:aws:lambda:eu-west-2:260148551992:function:determineWordsForCovApp\"\r\n}\r\n\r\nexport const propTypes = {\r\n  ownUUID: PropTypes.string.isRequired,\r\n  transitionUUID: PropTypes.string.isRequired,\r\n  errorUUID: PropTypes.string.isRequired,\r\n  lambdaKeys: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  positionX: PropTypes.number,\r\n  positionY: PropTypes.number,\r\n  endPoint: PropTypes.string\r\n}\r\n\r\nexport const ContactFlowInvokeExternal = ({\r\n    ownUUID, transitionUUID, errorUUID, lambdaKeys,\r\n    positionX = defaultProps.positionX,\r\n    positionY = defaultProps.positionY,\r\n    endPoint = defaultProps.endPoint\r\n  }) => {\r\n\r\n  let dynamicParameters = []\r\n  let dynamicMetadata = {}\r\n\r\n  console.log({lambdaKeys})\r\n\r\n  lambdaKeys.forEach((key, i) => {\r\n    let dynamicParamter = {\r\n      name: \"Parameter\",\r\n      key: key,\r\n      value: `$.Attributes.${key}`,\r\n      namespace: null\r\n    }\r\n    //let dynamicMetadata = {[key]: false} woopsie\r\n    dynamicParameters.push(dynamicParamter)\r\n    dynamicMetadata[key] = false\r\n  })\r\n\r\n  console.log({dynamicMetadata})\r\n\r\n  return {\r\n    id: ownUUID,\r\n    type: \"InvokeExternalResource\",\r\n    branches: [\r\n      {\r\n        condition: \"Success\",\r\n        transition: transitionUUID\r\n      },\r\n      {\r\n        condition: \"Error\",\r\n        transition: errorUUID\r\n      }\r\n    ],\r\n    parameters: [\r\n      {\r\n        name: \"FunctionArn\",\r\n        value: endPoint,\r\n        namespace: null\r\n      },\r\n      {\r\n        name: \"TimeLimit\",\r\n        value: \"8\"\r\n      },\r\n      ...dynamicParameters\r\n    ],\r\n    metadata: {\r\n      position: {\r\n        x: positionX,\r\n        y: positionY\r\n      },\r\n      dynamicMetadata: dynamicMetadata,\r\n      useDynamic: false\r\n    },\r\n    target: \"Lambda\"\r\n  }\r\n}\r\n\r\nContactFlowInvokeExternal.propTypes = propTypes\r\nContactFlowInvokeExternal.defaultProps = defaultProps\r\n\r\nexport default ContactFlowInvokeExternal","import PropTypes from \"prop-types\"\r\nimport { uuid } from \"uuidv4\"\r\nimport { ContactFlowAttribute } from \"./contactflowattribute\"\r\n\r\nexport const defaultProps = {\r\n  useDynamic: false,\r\n  maxDigits: \"1\"\r\n}\r\n\r\nexport const generateTextFromOptions = (question, language) => {\r\n  let text = `${question.text} <break time=\"1s\" />`\r\n\r\n  // quick n dirty. these stuff needs to be moved to state.\r\n  let part1 = language === 'de' ? 'Drcken Sie die' : 'Press'\r\n  let part2 = language === 'de' ? 'fr' : 'for'\r\n\r\n  question.options.forEach((option, i) => {\r\n    //text = text.concat(`Drcken Sie die ${i} fr ${option} <break time=\"1s\" />`)\r\n    text = text.concat(`${part1} ${i+1} ${part2} ${option} <break time=\"1s\" />`)\r\n  })\r\n  return `<speak>${text}</speak>`\r\n}\r\n\r\nexport const propTypes = {\r\n  question: PropTypes.object.isRequired,\r\n  ownUUID: PropTypes.string.isRequired,\r\n  repeatUUID: PropTypes.string.isRequired,\r\n  errorUUID: PropTypes.string.isRequired,\r\n  transitionUUIDs: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  optionsUUIDMap: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  modules: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  positionX: PropTypes.number.isRequired,\r\n  positionY: PropTypes.number.isRequired,\r\n  dispatch: PropTypes.func.isRequired,\r\n  addKey: PropTypes.func.isRequired,\r\n  useDynamic: PropTypes.bool,\r\n  maxDigits: PropTypes.string\r\n}\r\n\r\nexport const ContactFlowUserInput = ({\r\n  question,\r\n  ownUUID,\r\n  repeatUUID,\r\n  errorUUID,\r\n  transitionUUIDs,\r\n  optionsUUIDMap,\r\n  modules,\r\n  positionX,\r\n  positionY,\r\n  dispatch,\r\n  addKey,\r\n  language,\r\n  useDynamic = defaultProps.useDynamic,\r\n  maxDigits = defaultProps.maxDigits\r\n}) => {\r\n\r\n  const conditionMetadata = []\r\n\r\n  let staticBranches = [\r\n    {\r\n      condition: \"Timeout\",\r\n      transition: repeatUUID\r\n    },\r\n    {\r\n      condition: \"NoMatch\",\r\n      transition: repeatUUID\r\n    },\r\n    {\r\n      condition: \"Error\",\r\n      transition: errorUUID\r\n    }\r\n  ]\r\n\r\n  /*  each dynamic branch needs a SetAttributes */\r\n  const dynamicBranches = question.options.map((option, i) => {\r\n    let conditionMetadataUUID = uuid()\r\n    let val = i + 1\r\n    const conditionMetadataObj = {\r\n      id: conditionMetadataUUID,\r\n      value: val.toString()\r\n    }\r\n    conditionMetadata.push(conditionMetadataObj)\r\n\r\n    let key = `${question.category}_${question.id}`\r\n    dispatch(addKey(key))\r\n\r\n    let contactFlowAttribute = ContactFlowAttribute({\r\n      ownUUID: optionsUUIDMap[i],\r\n      errorUUID: errorUUID,\r\n      key: key,\r\n      value: val,\r\n      positionX: positionX + 250,\r\n      positionY: positionY + i * 200,\r\n      transitionUUID: transitionUUIDs[i].uuid\r\n    })\r\n    modules.push(contactFlowAttribute)\r\n\r\n    return {\r\n      condition: \"Evaluate\",\r\n      conditionType: \"Equals\",\r\n      conditionValue: val.toString(),\r\n      transition: optionsUUIDMap[i]\r\n    }\r\n  })\r\n\r\n  const branches = [...dynamicBranches, ...staticBranches]\r\n\r\n  let useFullText = question.hasOwnProperty(\"options\") ? generateTextFromOptions(question, language) : `<speak>${question.text}</speak>`\r\n\r\n  return {\r\n    id: ownUUID,\r\n    type: \"GetUserInput\",\r\n    branches: branches,\r\n    parameters: [\r\n      {\r\n        name: \"Text\",\r\n        value: useFullText,\r\n        namespace: null\r\n      },\r\n      {\r\n        name: \"TextToSpeechType\",\r\n        value: \"ssml\"\r\n      },\r\n      {\r\n        name: \"Timeout\",\r\n        value: \"5\"\r\n      },\r\n      {\r\n        name: \"MaxDigits\",\r\n        value: maxDigits\r\n      }\r\n    ],\r\n    metadata: {\r\n      position: {\r\n        x: positionX,\r\n        y: positionY\r\n      },\r\n      conditionMetadata: conditionMetadata,\r\n      useDynamic: useDynamic\r\n    },\r\n    target: \"Digits\"\r\n  }\r\n}\r\n\r\nContactFlowUserInput.propTypes = propTypes\r\nContactFlowUserInput.defaultProps = defaultProps\r\n\r\nexport default ContactFlowUserInput","export const greetingText = {\r\n  de: `Deutsche Begrung`,\r\n  en: `<speak>Welcome to our service. Within a few minutes you will answer a questionnaire and receive specific recommendations for action.\r\n  At the end you will be given two words to write down. By mentioning these two words, practices and clinics can ask for their individual summary of the answers. You are free to decide to whom you entrust these two words.\r\n  Please note that the use of this service does not replace medical treatment or provide a diagnostic service.\r\n  Let us now begin with the questions.</speak>`\r\n}\r\n\r\nexport const repeatText = {\r\n  de: `<speak>Die Frage wird nun wiederholt.</spea>`,\r\n  en: `<speak>The question is now repeated.</speak>`\r\n}\r\n\r\nexport const errorText = {\r\n  de: `<speak>Irgendetwas ist schief gelaufen. Es tut uns Leid. Bitte versuchen Sie es spter noch einmal.</speak>`,\r\n  en: `<speak>Something went wrong. We are sorry. Please try again later.</speak>`\r\n}\r\n\r\nexport const defaultVoice = {\r\n  de: \"Vicki\",\r\n  en: \"Joey\"\r\n}\r\n\r\nexport const defaultText = {\r\n  greetingText,\r\n  repeatText,\r\n  errorText,\r\n  defaultVoice\r\n}","import { uuid } from \"uuidv4\"\r\nimport PropTypes from \"prop-types\"\r\nimport { EmptyContactFlow } from \"./emptycontactflow\"\r\nimport { ContactFlowError } from \"./contactflowerror\"\r\nimport { ContactFlowEnd } from \"./contactflowend\"\r\nimport { ContactFlowTransfer } from \"./contactflowtransfer\"\r\nimport { ContactFlowLogging } from \"./contactflowlogging\"\r\nimport { ContactFlowVoice } from \"./contactflowvoice\"\r\nimport { ContactFlowPlayPrompt } from \"./contactflowplayprompt\"\r\nimport { defaultText } from \"../questions/defaultText\"\r\n\r\n\r\nexport const defaultProps = {\r\n  name: \"automated_charite_data_start\",\r\n  text: \"miau\"\r\n}\r\n\r\nexport const propTypes = {\r\n  name: PropTypes.string,\r\n  text: PropTypes.string\r\n}\r\n\r\n\r\nexport const ContactFlowStaticStart = ({\r\n    language,\r\n    firstQuestionName,\r\n    name = defaultProps.name,\r\n    text = defaultProps.text\r\n  }) => {\r\n    const loggingUUUID = uuid()\r\n    const startErrorUUID = uuid()\r\n    const startEndUUID = uuid()\r\n    const startTransferUUID = uuid()\r\n    const voiceUUID = uuid()\r\n    const greetingUUID = uuid()\r\n\r\n    const staticStart = EmptyContactFlow({\r\n      startUUID: loggingUUUID,\r\n      name: name\r\n    })\r\n    const startModules = []\r\n\r\n    const startError = ContactFlowError({\r\n      ownUUID: startErrorUUID,\r\n      transitionUUID: startEndUUID,\r\n      errorText: defaultText.errorText[language]\r\n    })\r\n    startModules.push(startError)\r\n\r\n    const startEnd = ContactFlowEnd({\r\n      ownUUID: startEndUUID\r\n    })\r\n    startModules.push(startEnd)\r\n\r\n    const startTransfer = ContactFlowTransfer({\r\n      ownUUID: startTransferUUID,\r\n      transitionUUID: voiceUUID,\r\n      errorUUID: startErrorUUID,\r\n      resourceName: firstQuestionName\r\n    })\r\n    startModules.push(startTransfer)\r\n\r\n    const startLogging = ContactFlowLogging({\r\n      ownUUID: loggingUUUID,\r\n      transitionUUID: voiceUUID,\r\n      errorUUID: startErrorUUID\r\n    })\r\n    startModules.push(startLogging)\r\n\r\n    const startVoice = ContactFlowVoice({\r\n      ownUUID: voiceUUID,\r\n      transitionUUID: greetingUUID,\r\n      errorUUID: startErrorUUID,\r\n      voiceType: defaultText.defaultVoice[language]\r\n    })\r\n    startModules.push(startVoice)\r\n\r\n    const startGreeting = ContactFlowPlayPrompt({\r\n      ownUUID: greetingUUID,\r\n      transitionUUID: startTransferUUID,\r\n      errorUUID: startErrorUUID,\r\n      text: text\r\n    })\r\n    startModules.push(startGreeting)\r\n\r\n    staticStart.modules = startModules\r\n\r\n    return staticStart\r\n}\r\n\r\nContactFlowStaticStart.propTypes = propTypes\r\nContactFlowStaticStart.defaultProps = defaultProps\r\n\r\nexport default ContactFlowStaticStart","import PropTypes from \"prop-types\"\r\nimport { uuid } from \"uuidv4\"\r\nimport { EmptyContactFlow } from \"./emptycontactflow\"\r\nimport { ContactFlowError } from \"./contactflowerror\"\r\nimport { ContactFlowEnd } from \"./contactflowend\"\r\nimport { ContactFlowInvokeExternal } from \"./contactflowinvokeexternal\"\r\nimport { ContactFlowPlayPrompt } from \"./contactflowplayprompt\"\r\nimport { defaultText } from \"../questions/defaultText\"\r\n\r\nexport const defaultProps = {\r\n  name: \"generated_charite_data_29\"\r\n}\r\n\r\nexport const propTypes = {\r\n  getState: PropTypes.func.isRequired,\r\n  name: PropTypes.string\r\n}\r\n\r\n// TODO: dynamicMetadata {<key>: false}\r\nexport const ContactFlowStaticEnd = ({\r\n    getState, language,\r\n    name = defaultProps.name\r\n  }) => {\r\n\r\n    const finishUUID = uuid()\r\n    const endErrorUUID = uuid()\r\n    const lambdaUUID = uuid()\r\n    const recomSpeechUUID = uuid()\r\n\r\n    const staticEnd = EmptyContactFlow({\r\n      startUUID: lambdaUUID,\r\n      name: name\r\n    })\r\n    const endModules = []\r\n\r\n    const endError = ContactFlowError({\r\n      ownUUID: endErrorUUID,\r\n      transitionUUID: finishUUID,\r\n      errorText: defaultText.errorText[language]\r\n    })\r\n    endModules.push(endError)\r\n\r\n    const finishLine = ContactFlowEnd({ownUUID: finishUUID})\r\n    endModules.push(finishLine)\r\n\r\n    const finalState = getState()\r\n    const lambdaKeys = finalState.creator.lambdaKeys.lambdaKeys\r\n\r\n    const lambdaCall = ContactFlowInvokeExternal({\r\n      ownUUID: lambdaUUID,\r\n      errorUUID: endErrorUUID,\r\n      lambdaKeys: lambdaKeys,\r\n      transitionUUID: recomSpeechUUID\r\n    })\r\n    endModules.push(lambdaCall)\r\n\r\n    const recomVoice = ContactFlowPlayPrompt({\r\n      ownUUID: recomSpeechUUID,\r\n      transitionUUID: finishUUID,\r\n      errorUUID: endErrorUUID,\r\n      textToSpechType: \"text\",\r\n      text: \"$.External.word1 und $.External.word2\"\r\n    })\r\n    endModules.push(recomVoice)\r\n\r\n    staticEnd.modules = endModules\r\n\r\n    return staticEnd\r\n}\r\n\r\nContactFlowStaticEnd.propTypes = propTypes\r\nContactFlowStaticEnd.defaultProps = defaultProps\r\n\r\nexport default ContactFlowStaticEnd","import PropTypes from \"prop-types\"\r\nimport { uuid } from \"uuidv4\"\r\nimport { EmptyContactFlow } from \"./emptycontactflow\"\r\nimport { ContactFlowEnd } from \"./contactflowend\"\r\nimport { ContactFlowRepeat } from \"./contactflowrepeat\"\r\nimport { ContactFlowError } from \"./contactflowerror\"\r\nimport { ContactFlowTransfer } from \"./contactflowtransfer\"\r\nimport { ContactFlowUserInput } from \"./contactflowuserinput\"\r\n\r\nexport const defaultProps = {\r\n  positionX: 820,\r\n  positionY: 20,\r\n  offsetX: 0,\r\n  offsetY: 200\r\n}\r\n\r\nexport const propTypes = {\r\n  dispatch: PropTypes.func.isRequired,\r\n  positionX: PropTypes.number,\r\n  positionY: PropTypes.number\r\n}\r\n\r\nexport const ContactFlowQuestion = ({\r\n    language, errorText, repeatText, index,\r\n    dispatch, uuidMap, xxxMap, question, addKey, name,\r\n    positionX = defaultProps.positionX,\r\n    positionY = defaultProps.positionY,\r\n    offsetX = defaultProps.offsetX,\r\n    offsetY = defaultProps.offsetY\r\n  }) => {\r\n\r\n      console.log(`hello question ${question.id} has index ${index}`)\r\n\r\n      const endUUID = uuid()\r\n      const repeatUUID = uuid()\r\n      const errorUUID = uuid()\r\n\r\n      let transferUUIDs \r\n      if (question.nextQuestionMap !== undefined) {\r\n        let someUUIDs = Array.from(new Set(question.nextQuestionMap.map(q => {\r\n          return {uuid: uuid(), key: q}\r\n        })))\r\n        transferUUIDs = question.nextQuestionMap.map(q => {\r\n          return someUUIDs.find(u => u.key === q)\r\n        })\r\n      }\r\n      else {\r\n        let singleTransferUUID = {uuid: uuid(), key: question.id}\r\n        transferUUIDs = question.options.map(q => singleTransferUUID)\r\n      }\r\n\r\n      const contactFlowQuestion = EmptyContactFlow({\r\n        name: name,\r\n        startUUID: uuidMap[question.id],\r\n        description: question.id\r\n      })\r\n      const modules = []\r\n\r\n      const contactFlowEnd = ContactFlowEnd({ownUUID:endUUID})\r\n      modules.push(contactFlowEnd)\r\n\r\n      const contactFlowRepeat = ContactFlowRepeat({\r\n        ownUUID: repeatUUID,\r\n        transitionUUID: uuidMap[question.id],\r\n        positionX: positionX + offsetX,\r\n        positionY: positionY + offsetY,\r\n        text: repeatText\r\n      })\r\n      modules.push(contactFlowRepeat)\r\n\r\n      const contactFlowError = ContactFlowError({\r\n        ownUUID: errorUUID,\r\n        transitionUUID: endUUID,\r\n        errorText: errorText\r\n      })\r\n      modules.push(contactFlowError)\r\n\r\n      const uniqueTransferUUIDs = Array.from(new Set(transferUUIDs))\r\n\r\n      uniqueTransferUUIDs.forEach(t => {\r\n\r\n        let current = xxxMap.find(u => u.key === t.key)\r\n        let currentIndex = xxxMap.indexOf(current)\r\n        let nextIndex = currentIndex + 1\r\n        // TODO: clean up this mess....\r\n        let fooName\r\n        if(question.id === xxxMap.slice(-1)[0].key) {\r\n          fooName = \"end\"\r\n        } else {\r\n          // uniqueTransferUUIDs only 1 element? use xxxMap[next] else t.key\r\n          fooName =  uniqueTransferUUIDs.length === 1 ? xxxMap[nextIndex].key : t.key\r\n        }\r\n  \r\n        let resourceName\r\n        if (fooName !== \"end\") {\r\n          let nextQuestion = xxxMap.find(x => x.key === fooName)\r\n          fooName = xxxMap.indexOf(nextQuestion)\r\n          resourceName = `generated_charite_data_${fooName}`\r\n        } else {\r\n          // remove this. its a workaround for 100 max contactflows @ amazon connect\r\n          resourceName = \"generated_charite_data_end\"\r\n        }\r\n        console.log(`${question.id} leads to question number ${fooName}`)\r\n\r\n        const contactFlowTransfer = ContactFlowTransfer({\r\n          ownUUID: t.uuid,\r\n          errorUUID: errorUUID,\r\n          resourceName: resourceName//`generated_charite_data_${fooName}`//`question_${fooName}_${language}`\r\n        })\r\n        modules.push(contactFlowTransfer)\r\n      })\r\n\r\n      let optionsUUIDMap = {}\r\n\r\n      question.options.forEach((option,i) => {\r\n        optionsUUIDMap[i] = uuid()\r\n      })\r\n\r\n\r\n      const contactFlowUserInput = ContactFlowUserInput({\r\n        question: question,\r\n        ownUUID: uuidMap[question.id],\r\n        repeatUUID: repeatUUID,\r\n        errorUUID: errorUUID,\r\n        transitionUUIDs: transferUUIDs,\r\n        optionsUUIDMap: optionsUUIDMap,\r\n        modules: modules,\r\n        positionX: positionX,\r\n        positionY: positionY,\r\n        dispatch: dispatch,\r\n        addKey: addKey,\r\n        language: language,\r\n        maxDigits: question.inputType === \"radio\" ? \"1\" : \"3\",\r\n      })\r\n      modules.push(contactFlowUserInput)\r\n\r\n      contactFlowQuestion.modules = modules\r\n\r\n    return contactFlowQuestion\r\n}","//import PropTypes from \"prop-types\"\r\nimport { uuid } from \"uuidv4\"\r\nimport { ContactFlowAttribute } from \"./contactflowattribute\"\r\n\r\nexport const defaultProps = {\r\n  positionX: 800,\r\n  positionY: 800,\r\n  maxDigits: 3\r\n}\r\n\r\nexport const propTypes = {\r\n}\r\n\r\nexport const generateTextFromOptions = question => {\r\n  let text = `${question.text} <break time=\"1s\" />`\r\n  return `<speak>${text}</speak>`\r\n}\r\n\r\n\r\nexport const ContactFlowStore = ({\r\n  question,\r\n  ownUUID,\r\n  errorUUID,\r\n  transitionUUIDs,\r\n  modules,\r\n  positionX,\r\n  positionY,\r\n  dispatch,\r\n  addKey,\r\n  //useDynamic = defaultProps.useDynamic,\r\n  maxDigits = defaultProps.maxDigits\r\n}) => {\r\n  let key = `${question.category}_${question.id}`\r\n  dispatch(addKey(key))\r\n\r\n  const blyatUUID = uuid()\r\n\r\n  let contactFlowAttribute = ContactFlowAttribute({\r\n    ownUUID: blyatUUID,\r\n    errorUUID: errorUUID,\r\n    key: key,\r\n    value: \"Stored customer input\",\r\n    positionX: positionX + 250,\r\n    positionY: positionY + 0 * 200,\r\n    transitionUUID: transitionUUIDs[0].uuid,\r\n    namespace: \"System\"\r\n  })\r\n  modules.push(contactFlowAttribute)\r\n  let useFullText = generateTextFromOptions(question)\r\n  //console.log(useFullText)\r\n  const wtf = {\r\n    id: ownUUID,\r\n    type: \"StoreUserInput\",\r\n    branches: [\r\n      {\r\n        condition: \"Success\",\r\n        transition: blyatUUID//transitionUUIDs[0].uuid\r\n      },\r\n      {\r\n        condition: \"Error\",\r\n        transition: errorUUID\r\n      }\r\n    ],\r\n    parameters: [\r\n      {\r\n        name: \"Text\",\r\n        value: useFullText,\r\n        namespace: null\r\n      },\r\n      {\r\n        name: \"TextToSpeechType\",\r\n        value: \"ssml\"\r\n      },\r\n      {\r\n        name: \"CustomerInputType\",\r\n        value: \"Custom\"\r\n      },\r\n      {\r\n        name: \"Timeout\",\r\n        value: \"5\"\r\n      },\r\n      {\r\n        name: \"MaxDigits\",\r\n        value: maxDigits\r\n      },\r\n      {\r\n        name: \"EncryptEntry\",\r\n        value: false\r\n      },\r\n      {\r\n        name: \"DisableCancel\",\r\n        value: false\r\n      }\r\n    ],\r\n    metadata: {\r\n      position: {\r\n        x: positionX,\r\n        y: positionY\r\n      },\r\n      useDynamic: false,\r\n      useDynamicForEncryptionKeys: true,\r\n      useDynamicForTerminatorDigits: false,\r\n      countryCodePrefix: \"+1\"\r\n    }\r\n  }\r\n  return wtf\r\n}\r\n\r\nContactFlowStore.propTypes = propTypes\r\nContactFlowStore.defaultProps = defaultProps\r\n\r\nexport default ContactFlowStore","import PropTypes from \"prop-types\"\r\nimport { uuid } from \"uuidv4\"\r\nimport { EmptyContactFlow } from \"./emptycontactflow\"\r\nimport { ContactFlowEnd } from \"./contactflowend\"\r\nimport { ContactFlowRepeat } from \"./contactflowrepeat\"\r\nimport { ContactFlowError } from \"./contactflowerror\"\r\nimport { ContactFlowTransfer } from \"./contactflowtransfer\"\r\nimport { ContactFlowStore } from \"./contactflowstore\"\r\n\r\nexport const defaultProps = {\r\n  positionX: 820,\r\n  positionY: 20\r\n}\r\n\r\nexport const propTypes = {\r\n  dispatch: PropTypes.func.isRequired,\r\n  positionX: PropTypes.number,\r\n  positionY: PropTypes.number\r\n}\r\n\r\nexport const ContactFlowQuestionDate = ({\r\n    language, errorText, repeatText, index,\r\n    dispatch, uuidMap, xxxMap, question, addKey, name,\r\n    positionX = defaultProps.positionX,\r\n    positionY = defaultProps.positionY\r\n  }) => {\r\n\r\n      console.log(`hello question ${question.id} has index ${index}`, name)\r\n      const endUUID = uuid()\r\n      const repeatUUID = uuid()\r\n      const errorUUID = uuid()\r\n\r\n      const transferUUIDs = [{uuid: uuid(), key: question.id}]\r\n\r\n      const contactFlowQuestion = EmptyContactFlow({\r\n        name: name,\r\n        startUUID: uuidMap[question.id],\r\n        errorText: errorText,\r\n        description: question.id\r\n      })\r\n      const modules = []\r\n\r\n      const contactFlowEnd = ContactFlowEnd({ownUUID:endUUID})\r\n      modules.push(contactFlowEnd)\r\n\r\n      const contactFlowRepeat = ContactFlowRepeat({\r\n        ownUUID: repeatUUID,\r\n        transitionUUID: uuidMap[question.id],\r\n        positionX: positionX,\r\n        positionY: positionY + 200,\r\n        text: repeatText\r\n      })\r\n      modules.push(contactFlowRepeat)\r\n\r\n      const contactFlowError = ContactFlowError({\r\n        ownUUID: errorUUID,\r\n        transitionUUID: endUUID\r\n      })\r\n      modules.push(contactFlowError)\r\n\r\n      const uniqueTransferUUIDs = Array.from(new Set(transferUUIDs))\r\n\r\n      uniqueTransferUUIDs.forEach(t => {\r\n\r\n        let current = xxxMap.find(u => u.key === t.key)\r\n        let currentIndex = xxxMap.indexOf(current)\r\n        let nextIndex = currentIndex + 1\r\n        // TODO: clean up this mess....\r\n        let fooName\r\n        if(question.id === xxxMap.slice(-1)[0].key) {\r\n          fooName = \"end\"\r\n        } else {\r\n          // uniqTransferUUIDs only 1 element? use xxxMap[next] else t.key\r\n          fooName =  uniqueTransferUUIDs.length === 1 ? xxxMap[nextIndex].key : t.key\r\n        } \r\n        \r\n        let resourceName\r\n        if (fooName !== \"end\") {\r\n          let nextQuestion = xxxMap.find(x => x.key === fooName)\r\n          fooName = xxxMap.indexOf(nextQuestion)\r\n          resourceName = `generated_charite_data_${fooName}`\r\n        }  else {\r\n          // remove this. its a workaround for 100 max contactflows @ amazon connect\r\n          resourceName = \"generated_charite_data_end\"\r\n        }\r\n        console.log(`${question.id} leads to question number ${fooName}`)\r\n\r\n        const contactFlowTransfer = ContactFlowTransfer({\r\n          ownUUID: t.uuid,\r\n          errorUUID: errorUUID,\r\n          resourceName: resourceName//`question_${fooName}_${language}`\r\n        })\r\n        modules.push(contactFlowTransfer)\r\n      })\r\n\r\n      const contactFlowStore = ContactFlowStore({\r\n        question: question,\r\n        ownUUID: uuidMap[question.id],\r\n        errorUUID: errorUUID,\r\n        transitionUUIDs: transferUUIDs,\r\n        modules: modules,\r\n        positionX: positionX,\r\n        positionY: positionY,\r\n        dispatch: dispatch,\r\n        addKey: addKey\r\n        //maxDigits: question.inputType === \"radio\" ? \"1\" : \"3\"\r\n      })\r\n      modules.push(contactFlowStore)\r\n\r\n      contactFlowQuestion.modules = modules\r\n\r\n    return contactFlowQuestion\r\n}","import { EmptyContactFlow } from \"./emptycontactflow\"\r\nimport { ContactFlowError } from \"./contactflowerror\"\r\nimport { ContactFlowEnd } from \"./contactflowend\"\r\nimport { ContactFlowTransfer } from \"./contactflowtransfer\"\r\nimport { ContactFlowLogging } from \"./contactflowlogging\"\r\nimport { ContactFlowVoice } from \"./contactflowvoice\"\r\nimport { ContactFlowPlayPrompt} from \"./contactflowplayprompt\"\r\nimport { ContactFlowRepeat } from \"./contactflowrepeat\"\r\nimport { ContactFlowAttribute } from \"./contactflowattribute\"\r\nimport { ContactFlowInvokeExternal } from \"./contactflowinvokeexternal\"\r\nimport { ContactFlowUserInput } from \"./contactflowuserinput\"\r\nimport { ContactFlowStaticStart } from \"./contactflowstaticstart\"\r\nimport { ContactFlowStaticEnd } from \"./contactflowstaticend\"\r\nimport { ContactFlowQuestion } from \"./contactflowquestion\"\r\nimport { ContactFlowQuestionDate } from \"./contactflowquestiondate\"\r\nimport { ContactFlowStore } from \"./contactflowstore\"\r\n\r\nexport const ContactFlow = {\r\n  EmptyContactFlow,\r\n  ContactFlowError,\r\n  ContactFlowEnd,\r\n  ContactFlowTransfer,\r\n  ContactFlowLogging,\r\n  ContactFlowVoice,\r\n  ContactFlowPlayPrompt,\r\n  ContactFlowRepeat,\r\n  ContactFlowAttribute,\r\n  ContactFlowInvokeExternal,\r\n  ContactFlowUserInput,\r\n  ContactFlowStaticStart,\r\n  ContactFlowStaticEnd,\r\n  ContactFlowQuestion,\r\n  ContactFlowQuestionDate,\r\n  ContactFlowStore\r\n}\r\n\r\nexport default ContactFlow\r\n","//import { Guard, Condition, Disjunction } from './guard';\r\n\r\n/* export type Question = {\r\n  id: string;\r\n  category: string;\r\n  comment?: string;\r\n  text: string;\r\n  inputType: 'radio' | 'date';\r\n  options?: string[];\r\n  nextQuestionMap?: string | string[];\r\n  scoreMap?: number[];\r\n  guard?: Guard;\r\n}; */\r\n\r\nexport const CATEGORIES = {\r\n  PERSONAL: 'personalInfo',\r\n  CONTACT: 'contact',\r\n  SYMPTOMS: 'symptoms',\r\n  RESPIRATORY_SYMPTOMS: 'respiratorySymptoms',\r\n  ILLNESS: 'illnesses',\r\n  MEDICATION: 'medication',\r\n};\r\n\r\nexport const QUESTION = {\r\n  AGE: 'P0',\r\n  ABOVE_65: 'P1',\r\n  LIVING_SITUATION: 'P2',\r\n  CARING: 'P3',\r\n  WORKSPACE: 'P4',\r\n  CONTACT_DATE: 'CZ',\r\n  OUT_OF_BREATH: 'SB',\r\n  SYMPTOM_DATE: 'SZ',\r\n};\r\n\r\nexport const QUESTIONNAIRE_ORDER = [\r\n  {\r\n    id: QUESTION.AGE,\r\n    category: CATEGORIES.PERSONAL,\r\n    text: 'q_P0_text',\r\n    inputType: 'radio',\r\n    options: [\r\n      'q_P0_option0',\r\n      'q_P0_option1',\r\n      'q_P0_option2',\r\n      'q_P0_option3',\r\n      'q_P0_option4',\r\n      'q_P0_option5',\r\n    ],\r\n    nextQuestionMap: ['P2', 'P2', 'P2', 'P1', 'P2', 'P2'],\r\n  },\r\n  {\r\n    id: QUESTION.ABOVE_65,\r\n    category: CATEGORIES.PERSONAL,\r\n    text: 'q_P1_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n  },\r\n  {\r\n    id: QUESTION.LIVING_SITUATION,\r\n    category: CATEGORIES.PERSONAL,\r\n    text: 'q_P2_text',\r\n    inputType: 'radio',\r\n    options: ['q_P2_option0', 'q_P2_option1'],\r\n  },\r\n  {\r\n    id: QUESTION.CARING,\r\n    category: CATEGORIES.PERSONAL,\r\n    comment: 'q_P3_comment',\r\n    text: 'q_P3_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n  },\r\n  {\r\n    id: QUESTION.WORKSPACE,\r\n    category: CATEGORIES.PERSONAL,\r\n    text: 'q_P4_text',\r\n    inputType: 'radio',\r\n    options: ['q_P4_option0', 'q_P4_option1', 'q_P4_option2'],\r\n  },\r\n  {\r\n    id: 'P5',\r\n    category: CATEGORIES.PERSONAL,\r\n    text: 'q_P5_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n  },\r\n  {\r\n    id: 'P6',\r\n    category: CATEGORIES.PERSONAL,\r\n    text: 'q_P6_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no', 'answer_unknown'],\r\n  },\r\n  {\r\n    id: 'C0',\r\n    category: CATEGORIES.CONTACT,\r\n    comment: 'q_C0_comment',\r\n    text: 'q_C0_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    nextQuestionMap: ['CZ', 'S0'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: QUESTION.CONTACT_DATE,\r\n    category: CATEGORIES.CONTACT,\r\n    text: 'q_CZ_text',\r\n    inputType: 'date',\r\n  },\r\n  {\r\n    id: 'S0',\r\n    category: CATEGORIES.SYMPTOMS,\r\n    comment: null,\r\n    text: 'q_S0_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    nextQuestionMap: ['S2', 'S1'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: 'S1',\r\n    category: CATEGORIES.SYMPTOMS,\r\n    comment: null,\r\n    text: 'q_S1_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    nextQuestionMap: ['S2', 'S3'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: 'S2',\r\n    category: CATEGORIES.SYMPTOMS,\r\n    comment: null,\r\n    text: 'q_S2_text',\r\n    inputType: 'radio',\r\n    options: [\r\n      '',\r\n      'q_S2_option1',\r\n      'q_S2_option2',\r\n      'q_S2_option3',\r\n      'q_S2_option4',\r\n      'q_S2_option5',\r\n      'q_S2_option6',\r\n      'q_S2_option7',\r\n    ],\r\n  },\r\n  {\r\n    id: 'S3',\r\n    category: CATEGORIES.SYMPTOMS,\r\n    text: 'q_S3_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: 'S4',\r\n    category: CATEGORIES.SYMPTOMS,\r\n    text: 'q_S4_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: 'S5',\r\n    category: CATEGORIES.SYMPTOMS,\r\n    text: 'q_S5_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: 'S6',\r\n    category: CATEGORIES.RESPIRATORY_SYMPTOMS,\r\n    comment: 'q_S6_comment',\r\n    text: 'q_S6_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: 'S7',\r\n    category: CATEGORIES.RESPIRATORY_SYMPTOMS,\r\n    comment: 'q_S7_comment',\r\n    text: 'q_S7_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: 'S8',\r\n    category: CATEGORIES.SYMPTOMS,\r\n    comment: 'q_S8_comment',\r\n    text: 'q_S8_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: 'S9',\r\n    category: CATEGORIES.RESPIRATORY_SYMPTOMS,\r\n    text: 'q_S9_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: 'SA',\r\n    category: CATEGORIES.SYMPTOMS,\r\n    text: 'q_SA_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: QUESTION.OUT_OF_BREATH,\r\n    category: CATEGORIES.RESPIRATORY_SYMPTOMS,\r\n    comment: 'q_SB_comment',\r\n    text: 'q_SB_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: 'SC',\r\n    category: CATEGORIES.SYMPTOMS,\r\n    text: 'q_SC_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n    scoreMap: [1, 0],\r\n  },\r\n  {\r\n    id: QUESTION.SYMPTOM_DATE,\r\n    category: CATEGORIES.SYMPTOMS,\r\n    text: 'q_SZ_text',\r\n    inputType: 'date'/* ,\r\n    guard: new Disjunction([\r\n      new Condition(CATEGORIES.SYMPTOMS, 1, null),\r\n      new Condition(CATEGORIES.RESPIRATORY_SYMPTOMS, 1, null),\r\n    ]), */\r\n  },\r\n  {\r\n    id: 'D0',\r\n    category: CATEGORIES.ILLNESS,\r\n    text: 'q_D0_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no', 'answer_unknown'],\r\n  },\r\n  {\r\n    id: 'D1',\r\n    category: CATEGORIES.ILLNESS,\r\n    text: 'q_D1_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no', 'answer_unknown'],\r\n  },\r\n  {\r\n    id: 'D2',\r\n    category: CATEGORIES.ILLNESS,\r\n    text: 'q_D2_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no', 'answer_unknown'],\r\n  },\r\n  {\r\n    id: 'D3',\r\n    category: CATEGORIES.ILLNESS,\r\n    text: 'q_D3_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no', 'answer_unknown'],\r\n  },\r\n  {\r\n    id: 'M0',\r\n    category: CATEGORIES.MEDICATION,\r\n    text: 'q_M0_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no', 'answer_unknown'],\r\n  },\r\n  {\r\n    id: 'M1',\r\n    category: CATEGORIES.MEDICATION,\r\n    comment: 'q_M1_comment',\r\n    text: 'q_M1_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no', 'answer_unknown'],\r\n  },\r\n  {\r\n    id: 'M2',\r\n    category: CATEGORIES.MEDICATION,\r\n    text: 'q_M2_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n  },\r\n];\r\n\r\nexport const QUESTIONNAIRE_ORDER_SMALL = [\r\n  {\r\n    id: QUESTION.AGE,\r\n    category: CATEGORIES.PERSONAL,\r\n    text: 'q_P0_text',\r\n    inputType: 'radio',\r\n    options: [\r\n      'q_P0_option0',\r\n      'q_P0_option1',\r\n      'q_P0_option2',\r\n      'q_P0_option3',\r\n      'q_P0_option4',\r\n      'q_P0_option5',\r\n    ],\r\n    nextQuestionMap: ['P2', 'P2', 'P2', 'P1', 'P2', 'P2'],\r\n  },\r\n  {\r\n    id: QUESTION.ABOVE_65,\r\n    category: CATEGORIES.PERSONAL,\r\n    text: 'q_P1_text',\r\n    inputType: 'radio',\r\n    options: ['answer_yes', 'answer_no'],\r\n  },\r\n  {\r\n    id: QUESTION.LIVING_SITUATION,\r\n    category: CATEGORIES.PERSONAL,\r\n    text: 'q_P2_text',\r\n    inputType: 'radio',\r\n    options: ['q_P2_option0', 'q_P2_option1'],\r\n  },\r\n  {\r\n    id: QUESTION.CONTACT_DATE,\r\n    category: CATEGORIES.CONTACT,\r\n    text: 'q_CZ_text',\r\n    inputType: 'date',\r\n  }\r\n]\r\n","\r\nimport QUESTIONNAIRE_DE from \"./de\"\r\nimport QUESTIONNAIRE_EN from \"./en\"\r\n\r\nexport const QUESTIONNAIRE = {\r\n  de: QUESTIONNAIRE_DE,\r\n  en: QUESTIONNAIRE_EN\r\n}","//import fetch from \"cross-fetch\"\r\nimport { uuid } from \"uuidv4\"\r\nimport fileDownload from \"js-file-download\"\r\nimport JSZip from \"jszip\"\r\nimport {\r\n  setQuestionnaireStrings,\r\n  setQuestionnaireOrder,\r\n  setLanguage,\r\n  setCreatedJSON,\r\n  setAmazonConnectData,\r\n  addKey,\r\n  setQuestionCount\r\n} from \"./actions\"\r\n\r\nimport cf from \"./amazon-connect/contactflow\"\r\nimport { defaultText } from \"./questions/defaultText\"\r\n\r\nimport { QUESTIONNAIRE_ORDER } from \"./foo\" /* \"./questionnaire_order\" */\r\nimport { QUESTIONNAIRE } from  \"./bar\" /* \"./questionnaire_strings\" */\r\n\r\n\r\n// TODO: implement a real fetch from  https://covapp.charite.de/\r\nexport const fetchData = () => {\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(\"https://covapp.charite.de/\");\r\n        \r\n        if (res.status >= 400) {\r\n          throw new Error(\"Bad response from server\");\r\n        }\r\n        \r\n        const user = await res.text();\r\n        console.log(res)\r\n        //console.log(url)\r\n        console.log(user);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    })()\r\n}\r\n\r\nexport const fetchDataMock = url => {\r\n  return dispatch => {\r\n    if (url === 'stringMap') {\r\n      dispatch(setQuestionnaireStrings(QUESTIONNAIRE))\r\n    } else {\r\n      dispatch(setQuestionnaireOrder(QUESTIONNAIRE_ORDER))\r\n    }\r\n  }\r\n}\r\n\r\nexport const getQuestionsAndGenerateJSONMock = url => {\r\n  return dispatch => {\r\n    dispatch(setQuestionnaireStrings(QUESTIONNAIRE))\r\n    dispatch(setQuestionnaireOrder(QUESTIONNAIRE_ORDER))\r\n    dispatch(createJSON())\r\n  }\r\n}\r\n\r\nexport const handleLanguageChange = language => {\r\n  return dispatch => {\r\n    dispatch(setLanguage(language))\r\n  }\r\n}\r\n\r\nexport const createRadioQuestion = (question, strings) => {\r\n  let options = question.options.map(option => strings[option])\r\n  return Object.assign({}, question, {\r\n    id: question.id,\r\n    text: strings[question.text],\r\n    options: options,\r\n    nextQuestionMap: question.nextQuestionMap,\r\n    comment: strings[question.comment]\r\n  })\r\n}\r\n\r\nexport const createDateQuestion = (question, strings) => {\r\n  return Object.assign({}, question, {\r\n    id: question.id,\r\n    text: strings[question.text]\r\n  })\r\n}\r\n\r\nexport const createJSON = () => {\r\n  return (dispatch, getState) => {\r\n    const state = getState()\r\n    const { order, stringMap, language } = state.creator\r\n    const strings = stringMap[language].keys\r\n    const data = order.map(question => {\r\n\r\n      if (question.inputType === 'date') {\r\n        return createDateQuestion(question, strings)\r\n      } else {\r\n        return createRadioQuestion(question, strings)\r\n      }\r\n    })\r\n    dispatch(setCreatedJSON(data))\r\n  }\r\n}\r\n\r\nexport const downloadJSON = (jsonMap, language) => {\r\n  const zip = new JSZip();\r\n \r\n  Object.keys(jsonMap).forEach((key, x) => {\r\n      zip.file(`${key}.json`, JSON.stringify(jsonMap[key], null, 4))\r\n\r\n  })\r\n  zip.generateAsync({type:\"blob\"}).then(function(content) {\r\n    fileDownload(content, \"example.zip\")\r\n  })\r\n  \r\n  return {type: ''}\r\n}\r\n\r\nexport const handleQuestionCount = questionCount => {\r\n  return dispatch => {\r\n    dispatch(setQuestionCount(questionCount))\r\n  }\r\n}\r\n\r\nexport const createContactFlow = () => {\r\n  return (dispatch, getState) => {\r\n    let state = getState()\r\n\r\n    const basename = state.creator.basename\r\n    const questions = state.creator.chariteData\r\n    const language = state.creator.language\r\n\r\n    const questionIDList = []\r\n    questions.forEach(question => {\r\n      questionIDList.push(question.id)\r\n    })\r\n\r\n    const questionIDSet = new Set(questionIDList)\r\n    const uuidMap = {}\r\n    const xxxMap = Array.from(new Set(questionIDList.map(q => {return {key: q, uuid: uuid()}})))\r\n\r\n    // Set sadly has no map method :(\r\n    questionIDSet.forEach(id => {\r\n      uuidMap[id] =  uuid()\r\n    })\r\n\r\n    let qCount = 0\r\n\r\n    questions.forEach((question, i) => {\r\n      \r\n      const contactFlowName = `${basename}_${i}`//`question_${i}_${language}`\r\n      let contactFlow\r\n      if (question.inputType === 'radio') {\r\n        contactFlow = cf.ContactFlowQuestion({\r\n          name: contactFlowName,\r\n          getState: getState,\r\n          uuidMap: uuidMap,\r\n          xxxMap: xxxMap,\r\n          question: question,\r\n          index: i,\r\n          addKey: addKey,\r\n          dispatch: dispatch,\r\n          language: language,\r\n          errorText: defaultText.errorText[language],\r\n          repeatText: defaultText.repeatText[language]\r\n        })\r\n      } else {\r\n        contactFlow = cf.ContactFlowQuestionDate({\r\n          name: contactFlowName,\r\n          getState: getState,\r\n          uuidMap: uuidMap,\r\n          xxxMap: xxxMap,\r\n          question: question,\r\n          index: i,\r\n          addKey: addKey,\r\n          dispatch: dispatch,\r\n          language: language,\r\n          errorText: defaultText.errorText[language],\r\n          repeatText: defaultText.repeatText[language]\r\n        })\r\n      }\r\n      \r\n      qCount++\r\n      dispatch(setAmazonConnectData({[contactFlowName]: contactFlow}))\r\n    })\r\n    dispatch(setQuestionCount(qCount))\r\n\r\n    const staticStartName = `${basename}_start`//`question_start_${language}` \"automated_charite_data_start_en\"//\r\n    const staticStart = cf.ContactFlowStaticStart({\r\n      name: staticStartName,\r\n      text: defaultText.greetingText[language],\r\n      language: language,\r\n      firstQuestionName: `${basename}_0`\r\n    })\r\n    dispatch(setAmazonConnectData({[staticStartName]: staticStart}))    \r\n\r\n    state = getState()\r\n\r\n    const staticEndName = `${basename}_end`//`question_end_${language}` \"automated_charite_data_end_en\"//\r\n    const staticEnd = cf.ContactFlowStaticEnd({name: staticEndName, getState: getState, language: language})\r\n    dispatch(setAmazonConnectData({[staticEndName]: staticEnd}))\r\n  }\r\n}","import { connect } from \"react-redux\"\r\nimport AmazonConnectConfiguratorComponent from \"./AmazonConnectConfiguratorComponent\"\r\n\r\nimport { \r\n  createJSON,\r\n  downloadJSON,\r\n  createContactFlow\r\n} from \"./duck/operations\"\r\n\r\nexport const mapStateToProps = (state, ownProps) => ({\r\n  chariteData: state.creator.chariteData,\r\n  connectConf: state.creator.connectConf,\r\n  lambdaKeys: state.creator.lambdaKeys,\r\n  language: state.creator.language\r\n})\r\n\r\nexport const mapDispatchToProps = {\r\n  createJSON,\r\n  createContactFlow,\r\n  downloadJSON\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AmazonConnectConfiguratorComponent)","import React from \"react\"\r\nimport Container from \"react-bootstrap/Container\"\r\nimport ButtonToolbar from \"react-bootstrap/ButtonToolbar\"\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport Form from \"react-bootstrap/Form\"\r\nimport Accordion from \"react-bootstrap/Accordion\"\r\nimport Card from \"react-bootstrap/Card\"\r\n\r\nimport  AmazonSettings from \"./AmazonConnectConfiguratorContainer\" \r\n\r\n\r\nexport const defaultProps = {\r\n  availableLanguages: [\r\n    {key: 'en', display: 'English'},\r\n    {key: 'de', display: 'Deutsch'}\r\n  ]\r\n}\r\n\r\nexport const CreatorComponent = props => {\r\n\r\n  const {\r\n    order,\r\n    stringMap,\r\n    getQuestionsAndGenerateJSONMock,\r\n    availableLanguages,\r\n    handleLanguageChange,\r\n    language,\r\n    chariteData,\r\n    connectConf,\r\n  } = props\r\n\r\n  const bla = {\r\n    stringMap: stringMap[language],\r\n    order: order,\r\n    chariteData: chariteData,\r\n    connectConf: connectConf\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <h1>Hello World</h1>\r\n      <ButtonToolbar>\r\n        <ButtonGroup className=\"mr-2\" size=\"sm\">\r\n        {\r\n          // TODO: use something else instead of buttons\r\n          availableLanguages.map(lang =>\r\n          <Button size=\"xs\" variant={language === lang.key ? \"success\" : \"secondary\"} key={lang.key} onClick={() => handleLanguageChange(lang.key)}>{lang.display}</Button>\r\n            ) \r\n        }\r\n        </ButtonGroup>\r\n        <ButtonGroup className=\"mr-2\" size=\"sm\">\r\n          <Button onClick={getQuestionsAndGenerateJSONMock}>Get Questions</Button>\r\n        </ButtonGroup>\r\n        {chariteData ? <AmazonSettings /> : null}\r\n\r\n      </ButtonToolbar>\r\n      <Accordion>\r\n        {\r\n          Object.keys(bla).map((key, i) => \r\n            <Card key={\"Card\" + i}>\r\n              <Accordion.Toggle as={Card.Header} eventKey={i}>\r\n                { \"Show \" + key + \" JSON\"}\r\n              </Accordion.Toggle>\r\n              <Accordion.Collapse eventKey={i}>\r\n                <Card.Body>\r\n                <Form.Group controlId={\"controlTextarea\" + i}>\r\n                  <Form.Label>{key}</Form.Label>\r\n                  <Form.Control as=\"textarea\" rows=\"50\" value={bla[key] && JSON.stringify(bla[key], null, 4)} disabled/>\r\n                </Form.Group>\r\n                </Card.Body>\r\n              </Accordion.Collapse>\r\n            </Card>\r\n          )\r\n        }\r\n      </Accordion>\r\n    </Container>\r\n  )\r\n}\r\n\r\nCreatorComponent.defaultProps = defaultProps\r\n\r\nexport default CreatorComponent","import { connect } from \"react-redux\"\r\nimport CreatorComponent from \"./CreatorComponent\"\r\nimport { \r\n  getQuestionsAndGenerateJSONMock,\r\n  handleLanguageChange\r\n} from \"./duck/operations\"\r\n\r\nexport const mapStateToProps = (state, ownProps) => ({\r\n  order: state.creator.order,\r\n  stringMap: state.creator.stringMap,\r\n  language: state.creator.language,\r\n  chariteData: state.creator.chariteData,\r\n  connectConf: state.creator.connectConf,\r\n  lambdaKeys: state.creator.lambdaKeys\r\n})\r\n\r\nexport const mapDispatchToProps = {\r\n  getQuestionsAndGenerateJSONMock,\r\n  handleLanguageChange\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreatorComponent)","import React from \"react\"\r\nimport FormControl from \"react-bootstrap/FormControl\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport Row from \"react-bootstrap/Row\"\r\nimport Col from \"react-bootstrap/Col\"\r\n\r\nexport const AddRadioOptionComponent = props => {\r\n  const {\r\n    question,\r\n    newRadioOption,\r\n    handleUpdateRadioOption,\r\n    handleUpdateNewRadioOption,\r\n    handleAddNewRadioOption,\r\n    handleRemoveRadioOption\r\n  } = props\r\n\r\n  const content = question.options === undefined\r\n    ? null\r\n    : (\r\n\r\n        <Col xs={6}>\r\n\r\n            {question.options.map((opt, i) =>\r\n              <Row key={`newQuestion-option-${i}`}>\r\n                <Col xs={6}>\r\n                  <FormControl value={opt} onChange={(event) => handleUpdateRadioOption(event.target.value, question.uuid, i)} />\r\n                </Col>\r\n                <Col xs={6}>\r\n                  <Button variant=\"danger\" onClick={() => handleRemoveRadioOption(question.uuid, i)}>remove</Button>\r\n                </Col>\r\n              </Row>\r\n            )}\r\n            <FormControl\r\n              placeholder=\"Enter answer text\"\r\n              value={newRadioOption}\r\n              onChange={(event) => handleUpdateNewRadioOption(event.target.value)}\r\n            />\r\n\r\n              <Button variant=\"primary\" disabled={newRadioOption.length === 0}\r\n                onClick={() => handleAddNewRadioOption(newRadioOption, question.uuid)}>add</Button>\r\n\r\n        </Col>\r\n\r\n    )\r\n  return content\r\n}\r\n\r\nexport default AddRadioOptionComponent","import {\r\n  removeQuestion,\r\n  updateQuestion,\r\n  moveQuestion,\r\n  renameQuestion,\r\n  changeQuestionCategory,\r\n  updateRadioOption,\r\n  removeRadioOption,\r\n  updateNewRadioOption,\r\n  addNewRadioOption,\r\n  removeNextQuestionMap,\r\n  addNextQuestionMap,\r\n  addNextQuestionMapOption,\r\n  updateNextQuestionMapOption,\r\n} from \"./actions\"\r\n\r\n// TODO: order this!\r\n\r\nexport const handleRemoveQuestion = question => {\r\n  return dispatch => {\r\n    dispatch(removeQuestion(question))\r\n  }\r\n}\r\n\r\nexport const handleMoveQuestion = (uuid, direction) => {\r\n  return dispatch => {\r\n    dispatch(moveQuestion(uuid, direction))\r\n  }\r\n}\r\n\r\nexport const handleRenameQuestion = (value, uuid) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState()\r\n    const targetQuestion = state.questioncatalog.questions.find(q => q.uuid === uuid)\r\n    dispatch(renameQuestion(value, uuid))\r\n    dispatch(updateQuestion(targetQuestion))\r\n  }\r\n}\r\n\r\nexport const handleChangeQuestionCategory = (value, uuid) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState()\r\n    const targetQuestion = state.questioncatalog.questions.find(q => q.uuid === uuid)\r\n    dispatch(changeQuestionCategory(value, uuid))\r\n    dispatch(updateQuestion(targetQuestion))\r\n  }\r\n}\r\n\r\nexport const handleUpdateRadioOption = (value, uuid, index) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState()\r\n    const targetQuestion = state.questioncatalog.questions.find(q => q.uuid === uuid)\r\n    dispatch(updateRadioOption(value, uuid, index))\r\n    dispatch(updateQuestion(targetQuestion))\r\n\r\n  }\r\n}\r\n\r\nexport const handleRemoveRadioOption = (uuid, index) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState()\r\n    const targetQuestion = state.questioncatalog.questions.find(q => q.uuid === uuid)\r\n    dispatch(removeRadioOption(uuid, index))\r\n    dispatch(updateQuestion(targetQuestion))\r\n  }\r\n}\r\n\r\nexport const handleUpdateNewRadioOption = option => {\r\n  return dispatch => {\r\n    dispatch(updateNewRadioOption(option))\r\n  }\r\n}\r\n\r\nexport const handleAddNewRadioOption = (option, uuid) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState()\r\n    const targetQuestion = state.questioncatalog.questions.find(q => q.uuid === uuid)\r\n    dispatch(addNewRadioOption(option, uuid))\r\n    if (targetQuestion.nextQuestionMap !== undefined) {\r\n      dispatch(addNextQuestionMapOption(uuid))\r\n    }\r\n    \r\n    dispatch(updateQuestion(targetQuestion))\r\n  }\r\n}\r\n\r\nexport const handleToggleNextQuestionMap = (event, uuid) => {\r\n  console.log(event.target.checked, uuid)\r\n  return (dispatch, getState) => {\r\n    const state = getState()\r\n    const targetQuestion = state.questioncatalog.questions.find(q => q.uuid === uuid)\r\n    if(event.target.checked) {\r\n      dispatch(addNextQuestionMap(uuid))\r\n    }\r\n    else {\r\n      dispatch(removeNextQuestionMap(uuid))\r\n    }\r\n    dispatch(updateQuestion(targetQuestion))\r\n  }\r\n}\r\n\r\nexport const handleUpdateNextQuestionMapOption = (value, uuid, index) => {\r\n  return (dispatch, getState) => {\r\n    const state = getState()\r\n    const targetQuestion = state.questioncatalog.questions.find(q => q.uuid === uuid)\r\n    dispatch(updateNextQuestionMapOption(value, uuid, index))\r\n    dispatch(updateQuestion(targetQuestion))\r\n  }\r\n}","import { connect } from \"react-redux\"\r\nimport RadioOptionComponent from \"./RadioOptionComponent\"\r\nimport {\r\n  handleUpdateRadioOption,\r\n  handleUpdateNewRadioOption,\r\n  handleAddNewRadioOption,\r\n  handleRemoveRadioOption\r\n} from \"./duck/operations\"\r\n\r\n\r\nexport const mapStateToProps = (state, ownProps) => ({\r\n  question: ownProps.existingQuestion ? state.questioncatalog.questions.find(q => q === ownProps.existingQuestion) : state.questioncatalog.newQuestion,\r\n  newRadioOption: state.questioncatalog.newRadioOption\r\n})\r\n\r\nexport const mapDispatchToProps = {\r\n  handleUpdateRadioOption,\r\n  handleUpdateNewRadioOption,\r\n  handleAddNewRadioOption,\r\n  handleRemoveRadioOption\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RadioOptionComponent)","import React from \"react\"\r\nimport FormControl from \"react-bootstrap/FormControl\"\r\nimport Row from \"react-bootstrap/Row\"\r\nimport Col from \"react-bootstrap/Col\"\r\n\r\nexport const NextQuestionMapComponent = props => {\r\n  const {\r\n    handleUpdateNextQuestionMapOption,\r\n    question,\r\n    questions\r\n  } = props\r\n\r\n  const content = question.nextQuestionMap === undefined\r\n    ? null\r\n    : (\r\n      <Col xs={6}>\r\n        {question.nextQuestionMap.map((opt, i) =>\r\n        <Row key={`nextQuestion-option-${i}`}>\r\n          <Col xs={6}>Option {question.options[i]} leads to Question: </Col>\r\n          <Col xs={6}>\r\n          <FormControl as=\"select\"\r\n            value={opt}\r\n            onChange={(event) => handleUpdateNextQuestionMapOption(event.target.value, question.uuid, i)}\r\n          >\r\n            <option defaultValue=\"\">Please select</option>\r\n            {questions.map((q, j) => <option key={`nextQuestion-option-${i}-${j}`} defaultValue={q.id === opt}>{q.id}</option>)}\r\n          </FormControl>\r\n          </Col>\r\n        </Row>\r\n        )}\r\n      </Col>\r\n    )\r\n    return content\r\n}\r\n\r\nexport default NextQuestionMapComponent","import { connect } from \"react-redux\"\r\nimport NextQuestionMapComponent from \"./NextQuestionMapComponent\"\r\nimport {\r\n  handleUpdateNextQuestionMapOption\r\n} from \"./duck/operations\"\r\n\r\n\r\nexport const mapStateToProps = (state, ownProps) => ({\r\n  question: ownProps.existingQuestion ? state.questioncatalog.questions.find(q => q === ownProps.existingQuestion) : state.questioncatalog.newQuestion,\r\n  questions: state.questioncatalog.questions\r\n})\r\n\r\nexport const mapDispatchToProps = {\r\n  handleUpdateNextQuestionMapOption\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NextQuestionMapComponent)","import React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport FormControl from \"react-bootstrap/FormControl\"\r\nimport Form from \"react-bootstrap/Form\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport Badge from \"react-bootstrap/Badge\"\r\nimport Row from \"react-bootstrap/Row\"\r\nimport Col from \"react-bootstrap/Col\"\r\nimport RadioOption from \"./RadioOptionContainer\"\r\nimport NextQuestionMap from \"./NextQuestionMapContainer\"\r\n\r\nexport const defaultProps = {\r\n  categoryMap: {\r\n    contact: \"danger\",\r\n    personalInfo: \"success\",\r\n    symptoms: \"warning\",\r\n    respiratorySymptoms: \"primary\",\r\n    illnesses: \"dark\",\r\n    medication: \"secondary\"\r\n  }\r\n}\r\n\r\n\r\nexport const propTypes = {\r\n  text: PropTypes.string\r\n}\r\n\r\n\r\nexport const QuestionComponent = props => {\r\n\r\n  const { uuid, question, handleRemoveQuestion, handleToggleNextQuestionMap,\r\n    handleMoveQuestion, index, total, categoryMap, handleRenameQuestion, handleChangeQuestionCategory\r\n  } = props\r\n\r\n  return (\r\n    <Row>\r\n      <Col xs={1}>\r\n        <Badge variant={categoryMap[question.category]}>{question.category}</Badge>\r\n      </Col>\r\n      <Col xs={3}>\r\n        <FormControl defaultValue={question.id} onChange={(event) => handleRenameQuestion(event.target.value, question.uuid)} />\r\n      </Col>\r\n      <Col xs={3}>\r\n        <FormControl as=\"select\" onChange={(event) => handleChangeQuestionCategory(event.target.value, question.uuid)}>\r\n          {Object.keys(categoryMap).map((cat, i) => <option key={`category-question-${question.id}-${i}`} defaultValue={cat === question.category}>{cat}</option>)}\r\n        </FormControl>\r\n      </Col>\r\n      <Col xs={5}>\r\n        <Form.Check\r\n          type=\"checkbox\"\r\n          label=\"has nextQuestionMap\"\r\n          defaultChecked={question.nextQuestionMap !== undefined}\r\n          onChange={(event) => handleToggleNextQuestionMap(event, question.uuid)}\r\n        />\r\n      </Col>\r\n      <Col xs={9}>\r\n        <FormControl\r\n          as=\"textarea\"\r\n          placeholder=\"Enter question text\"\r\n          defaultValue={question.text}\r\n          onChange={() => console.log(question)}\r\n        />\r\n      </Col>\r\n      <Col xs={3}>\r\n        <Button variant=\"outline-secondary\" disabled={index === 0} onClick={() => handleMoveQuestion(uuid, -1)}>up</Button>\r\n        <Button variant=\"outline-secondary\" disabled={total === index} onClick={() => handleMoveQuestion(uuid, 1)}>down</Button>\r\n        <Button variant=\"danger\" onClick={() => handleRemoveQuestion(uuid)}>remove</Button>\r\n      </Col>\r\n      <RadioOption existingQuestion={question} />\r\n      <NextQuestionMap existingQuestion={question} />\r\n    </Row>\r\n    \r\n  )\r\n}\r\n\r\nQuestionComponent.propTypes = propTypes\r\nQuestionComponent.defaultProps = defaultProps\r\n\r\nexport default QuestionComponent","import { connect } from \"react-redux\"\r\nimport QuestionComponent from \"./QuestionComponent\"\r\nimport {\r\n  handleRemoveQuestion,\r\n  handleMoveQuestion,\r\n  handleToggleNextQuestionMap,\r\n  handleRenameQuestion,\r\n  handleChangeQuestionCategory\r\n} from \"./duck/operations\"\r\n\r\n\r\nexport const mapStateToProps = (state, ownProps) => ({\r\n  index: state.questioncatalog.questions.findIndex(q => q.uuid === ownProps.uuid),\r\n  total: state.questioncatalog.questions.length - 1\r\n})\r\n\r\nexport const mapDispatchToProps = {\r\n  handleToggleNextQuestionMap,\r\n  handleRemoveQuestion,\r\n  handleMoveQuestion,\r\n  handleRenameQuestion,\r\n  handleChangeQuestionCategory\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(QuestionComponent)","import React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport Container from \"react-bootstrap/Container\"\r\nimport Question from \"./QuestionContainer\"\r\n//import AddQuestion from \"./AddQuestionContainer\"\r\n\r\nexport const defaultProps = {}\r\n\r\nexport const propTypes = {\r\n  questions: PropTypes.array\r\n}\r\n\r\nexport const QuestionCatalogComponent = props => {\r\n\r\n  const {\r\n    questions\r\n  } = props\r\n\r\n  console.log({questions})\r\n\r\n  return (\r\n    <Container>\r\n      <h1>Fraetrin kostet Nerven :) Schn wirds spter! WIP</h1>\r\n      {questions.map(question => \r\n        <Question key={question.uuid} uuid={question.uuid} question={question} />\r\n      )}\r\n      {/* <AddQuestion /> */}\r\n    </Container>\r\n  )\r\n}\r\n\r\nQuestionCatalogComponent.propTypes = propTypes\r\nQuestionCatalogComponent.defaultProps = defaultProps\r\n\r\nexport default QuestionCatalogComponent","import { connect } from \"react-redux\"\r\nimport QuestionCatalogComponent from \"./QuestionCatalogComponent\"\r\nimport {\r\n  handleRemoveQuestion,\r\n  handleMoveQuestion\r\n} from \"./duck/operations\"\r\n\r\n\r\nexport const mapStateToProps = (state, ownProps) => ({\r\n  questions: state.questioncatalog.questions\r\n})\r\n\r\nexport const mapDispatchToProps = {\r\n  handleRemoveQuestion,\r\n  handleMoveQuestion\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(QuestionCatalogComponent)","import React from \"react\";\r\nimport { HashRouter, Route, Link } from \"react-router-dom\"\r\nimport { Creator } from \"./creator\"\r\nimport { QuestionCatalog } from \"./questioncatalog\"\r\n\r\nexport default function App() {\r\n  return (\r\n    <HashRouter basename='/'>\r\n      <div>\r\n        <ul>\r\n          <li><Link to=\"/\">Create Amazon Connect</Link></li>\r\n          <li><Link to=\"/questions\">Create Questions</Link></li>\r\n        </ul>\r\n        <hr />\r\n        <Route exact path=\"/\" component={Creator} />\r\n        <Route path=\"/questions\" component={QuestionCatalog} />\r\n      </div>\r\n    </HashRouter>\r\n  )\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux'\r\nimport configureStore from './store'\r\n\r\nimport App from './app/App'\r\n//import * as serviceWorker from './serviceWorker';\r\n\r\nconst store = configureStore();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n//serviceWorker.unregister();\r\n"],"sourceRoot":""}